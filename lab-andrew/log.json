{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:29:50.697Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:29:50.818Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:29:50.953Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:33:01.530Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:33:01.582Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:33:31.796Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:33:31.865Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:33:31.975Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:34:04.781Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:04.967Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:05.075Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:34:05.076Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:34:05.076Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:34:05.079Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:34:05.083Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:34:25.266Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:25.331Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:25.426Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:34:25.428Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:34:25.428Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:34:25.429Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:34:25.435Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:43:56.159Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:43:56.298Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:43:56.414Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:43:56.416Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:43:56.416Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:43:56.418Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:43:56.423Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:52:19.914Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:52:19.977Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:52:20.086Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:52:20.088Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:52:20.088Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:52:20.090Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:52:20.095Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:56:33.783Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:33.922Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:34.028Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:56:34.030Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:56:34.030Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:56:34.032Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:34.038Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:34.072Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:56:34.107Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$mSbL.Byd9BSDRz8CpvMmfukDq71DDd.xkRmt/MVvNRfGjx8aXxpR2","tokenSeed":"567bcfa8c1b053ef7d3103c645d302a265d452379d9c492d435d69ea21f111933dda4a38877ce9ec9b4d5077604a1c8a8066ccd2a776a6b684e20d395e5268f3","_id":"5a39ed8274fe61d6990d7cc4","created":"2017-12-20T04:56:34.100Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T04:56:34.110Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:56:34.114Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-20T05:11:31.450Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T05:11:59.323Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T05:12:26.814Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T17:46:57.075Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.230Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.363Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:46:57.365Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T17:46:57.365Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T17:46:57.369Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.378Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.421Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:46:57.457Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$pMdJ5fATzBNg2ClDMP.Tge2sG9Lx7i75a2LaPexqK3G/HplFvMYPy","tokenSeed":"27c7b5878448e7b0fd4edad5b18db1ef548c99d6d8cca8e831bec404fe7fbb4af6ea771d72489bc109a20d9c80f508adade843a1361a42309445998ed385d3c8","_id":"5a3aa211574eefe001423d41","created":"2017-12-20T17:46:57.449Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T17:46:57.460Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T17:46:57.468Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T17:48:08.948Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.089Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.192Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:48:09.193Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T17:48:09.194Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T17:48:09.196Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.202Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.249Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:48:09.279Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$K1G4bIhqRkuySljt7CZeV.4yJ35R8JNiGatM9zPZUgWQqkL91kaba","tokenSeed":"c3c08ae019d98e89a2968e82922f68b63248865e068e8dbedfaa30d890968a417ac3011500d79dba1e6ae40ac35a284251eb68cfd8912bf10f90bc5a2b3f2d13","_id":"5a3aa2590b3e8ae05ab8b479","created":"2017-12-20T17:48:09.276Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T17:48:09.282Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T17:48:09.333Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-20T17:48:09.334Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T17:48:09.343Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T18:34:08.535Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.605Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.700Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:34:08.702Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T18:34:08.702Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T18:34:08.703Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.711Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.743Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:34:08.774Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$y9UzksICm4LMtVFC8T/NZeYifEKhOvWyvcaXPu.QdDWYRm0ymjCF2","tokenSeed":"d4b207dfb35a0ebb02c71a5e6b3d637721b7879cac8aeda1e0a8a60133486c483dd1366e8a68b49ef53bf2bd262c3ef0a7a1d45598e55a654ca4f6dbf6d62699","_id":"5a3aad209532d0e71d7cc68c","created":"2017-12-20T18:34:08.770Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T18:34:08.778Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T18:34:08.830Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-20T18:34:08.831Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T18:34:08.839Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T18:35:39.430Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.598Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.694Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:35:39.696Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T18:35:39.696Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T18:35:39.699Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.709Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.742Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:35:39.773Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$odIoHUQH6aSXq.H2IORFSuzIovTZuIIdbHTZ5W683zBHJm7FRKIvu","tokenSeed":"58117c93c56b12a61b5498791ad9a5bc1d95fa531d79c6e7fb7aa26b399fa0a4487bcef01406b4e515983aec73118d94aafdc4fa7628d476e6014ea3642870ce","_id":"5a3aad7b3d9e0ce78086a4b0","created":"2017-12-20T18:35:39.769Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T18:35:39.776Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T18:35:39.827Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-20T18:35:39.828Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T18:35:39.834Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T18:53:09.657Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.803Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.899Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:53:09.901Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T18:53:09.901Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T18:53:09.903Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.911Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.948Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:53:09.979Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$JggRb2PWjfwcqVrp9odEFOOMbft06SpK/oPuYhCPAoS1ufC9rrOCy","tokenSeed":"400172c1f1618abe13b7947ff4b5462f652b4bb2d11f6f647aabed4740289d75fba1a1f41e3337e3c99fbf634ab5e1199de791c72ca97a90ccbdc3d3335d4fc5","_id":"5a3ab195b3a87deb447df874","created":"2017-12-20T18:53:09.975Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T18:53:09.983Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T18:53:10.036Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T18:53:10.077Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:17:10.199Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.393Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.516Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:17:10.518Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:17:10.518Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:17:10.522Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.528Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.561Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:17:10.588Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$uu8FvjagcAsydTd0gi1KwuQYRUG9bfhOjODjoGnM4KtMWwpjmsVyW","tokenSeed":"ae3148ee9783a5b7a27ed92c9492909f9fe773eb9cd27add2b0f3535c8665200c72c341460b70ef3091f5637c6829e10bc982261b8482545069694aaf4458705","_id":"5a3ac546932dd7f89e7d9279","created":"2017-12-20T20:17:10.586Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:17:10.591Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:17:10.637Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:17:10.672Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:17:11.282Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:17:11.294Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:18:36.204Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T20:18:36.406Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:18:36.411Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-20T20:18:36.411Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-20T20:18:36.414Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:18:36.430Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:18:37.014Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.028Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.093Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:18:37.094Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:18:37.094Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:18:37.095Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.100Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.134Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:18:37.162Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$zbf4IR2mnZxf1.U9rUJfLe8vA9xK4uUzHA9kHE5RO3UHrQi18cxFi","tokenSeed":"b83385c2a865a8158881059bfd4456f583410f29c82377b177d8a8cd4587b6aeaef0a5393aab403d67f4f13040c9f8a4ee7f65563a9b8fb96383ec7a95f0a625","_id":"5a3ac59d1122ecf8f9f224d5","created":"2017-12-20T20:18:37.159Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:18:37.164Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:18:37.198Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:18:37.229Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:23.772Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T20:21:23.989Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:24.039Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:24.678Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.691Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.740Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:24.742Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:21:24.742Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:21:24.744Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.750Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.783Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:24.813Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$YayrXCJ/fjCOsdiapKhA0.T9iXurMdv3UbTShPp0fz/cXMn9ToGCe","tokenSeed":"353d1db35f6927e43c5e5556798271b98ff25da97bd6a4443d4698276d03edb086da09eeecbf01683487f2d7b6763f1fa631e48e63a7092643f8f7e5c6d4140d","_id":"5a3ac644193d0df99e5e58f3","created":"2017-12-20T20:21:24.810Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:21:24.816Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:21:24.854Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:24.888Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:45.513Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T20:21:45.727Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:45.773Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:46.319Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.333Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.381Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:46.382Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:21:46.383Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:21:46.384Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.392Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.427Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:46.454Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$50/6iZv66WJdnQKzrxYgA.xlBQQKkZMBzDE1mMeoGn5mmEABbooXS","tokenSeed":"e8fbfe7cc33e494d6105b77369b2fc87df104b23a8a7bc19a54a66673557d564e98a4e5a1731bcecaf66c240ecdc4539e59d5577ce4393f1cfd6dd67a796441b","_id":"5a3ac65a89d18af9c92ad5f4","created":"2017-12-20T20:21:46.450Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:21:46.458Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:21:46.495Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:46.527Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:01:04.271Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T21:01:04.402Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:01:04.457Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:01:05.050Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.064Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.115Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:01:05.116Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T21:01:05.117Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T21:01:05.118Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.125Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.159Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:01:05.191Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$uk/.n5wmoWQY5AN/JoEpJO/Kgj9hG3iciHGhIH7OgGc1tvwAsmdpK","tokenSeed":"61f0c823e0fd7fb2af9df7151969e64e64328e7105ba61d27fdabfc1730d7f9bf1941cec592359994b5b2b290c852ee14bf86bba27ee6db27f69128aada21e4b","_id":"5a3acf9186e6eafbf12c450e","created":"2017-12-20T21:01:05.187Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T21:01:05.194Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T21:01:05.231Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:01:05.266Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:23:12.339Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T21:23:12.565Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:23:12.623Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:23:13.235Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.251Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.303Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:23:13.305Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T21:23:13.305Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T21:23:13.306Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.312Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.346Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:23:13.375Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$M4x/gGLjf2gpX1okrz8vie7uhBIUaUGxV8icX.f39ibTr5jzAtcGW","tokenSeed":"d769843bed28035fbc427279443820bc90617a512601938f2a65c24e87e83d977a7d1c6cb0a62fd1a0debf77f4a23c29b4cec32e743d51b29cb1f1cdae84bb7a","_id":"5a3ad4c188adc2fedc723b92","created":"2017-12-20T21:23:13.370Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T21:23:13.377Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T21:23:13.418Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:23:13.451Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:38:48.178Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T23:38:48.308Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:38:48.359Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:38:49.028Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.043Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.089Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:38:49.090Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T23:38:49.090Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T23:38:49.092Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.097Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.131Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:38:49.159Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$/BVyXHCtVulmnXdeQNieGeXyuiRo86Gf5AVKV0n4QBh9WPlKj6Za2","tokenSeed":"20cc9e4f2d893e4f021f2b6e95cc3a26453327c3a0363373799ee93223e5b4a3fc2acb2fd555f67b712e8ca1c37230e70223b53062d89aa4da7cc163a3729c24","_id":"5a3af4895323260832507666","created":"2017-12-20T23:38:49.155Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T23:38:49.163Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T23:38:49.203Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:38:49.235Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:43:53.125Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:43:53.182Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:43:53.783Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:53.930Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:54.021Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:43:54.023Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T23:43:54.023Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T23:43:54.026Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:54.041Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:54.077Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:43:54.103Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$IkctBEQ.vEA14wXGRP0lIeGnZr.ifdeFmVXu5p85OSf64uhRofC9a","tokenSeed":"dd1f4999753cfccd39cce1a5ee86060b7ee7c78d4ca047b9db343003821eaf1004cd11a76ca4a04a01b74475fe923ac49d96728b9f00e10cc50276c1dcf8fb43","_id":"5a3af5bab692d409740cb6cf","created":"2017-12-20T23:43:54.101Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T23:43:54.106Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:43:54.112Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:44:36.013Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T23:44:36.182Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:44:36.241Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:44:36.990Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.009Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.060Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:44:37.062Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T23:44:37.062Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T23:44:37.064Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.071Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.111Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:44:37.138Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$9jZUiKDb/IEr4mmKuJByN.luG8CC4MApkptVP5n20BAHUPhUevNHS","tokenSeed":"fb9d6313a3305f2f25e6dda2b986e7fc2241df511bba2a78bc2b1cd870fd2ab4e2c99ba9ca3c576a626f8b836d8f1eb5cf367bc4cfebe936807a48b33942eafc","_id":"5a3af5e5110bb509b179845c","created":"2017-12-20T23:44:37.136Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T23:44:37.141Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T23:44:37.182Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:44:37.217Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:44:54.133Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:44:54.263Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:44:54.312Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:44:55.487Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.501Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.546Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:44:55.547Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:44:55.547Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:44:55.549Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.554Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.586Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:44:55.612Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$BrZWERW4pOyqRo..xA.2ROwqgRopLCgzaKVeEvkZ03ddqwWCjnCIe","tokenSeed":"06731b223fcb188e8ad80271d5ca805ddbca97243e552733ff8403410b92915a5e1efc198036d4548fdf4ff4adfddf3e93f4294d3c3f996e977a1e455241913c","_id":"5a3b04075d627a0db8b200c3","created":"2017-12-21T00:44:55.610Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:44:55.614Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:44:55.650Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:44:55.711Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:44:55.711Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:44:55.712Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username and password required","timestamp":"2017-12-21T00:44:55.714Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:44:55.719Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:46:30.738Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:30.881Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:30.980Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:46:30.981Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:46:30.982Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:46:30.984Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:30.991Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:31.025Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:46:31.055Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$bIBG7Db4GLMKBl7cC4zTi.TjE.miD0FKpmRBsEQfwXUcWJGXC7teq","tokenSeed":"0f703fe6e4df3ae081dfd76b577b0a0287c1a4c8482cb570f429d06661c8a5b84f3c217d1d803ddbf44ec19f3a689274311d46e28bb07e06feb35b8c1ca32d8c","_id":"5a3b0467c6ebb70e1c7bd33f","created":"2017-12-21T00:46:31.052Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:46:31.058Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:46:31.104Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:46:31.165Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:46:31.166Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:46:31.166Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username and password required","timestamp":"2017-12-21T00:46:31.167Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:46:31.171Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:46:31.662Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:46:31.708Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:46:31.726Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:54:51.707Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.798Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.925Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:51.927Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:54:51.927Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:54:51.929Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.936Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.976Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:52.004Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$TcnzeD4xJ1bl/ZXwKHH4jutwbiw0GvCxCXe3x0jdd87hQwJmYFGO6","tokenSeed":"1abc4af75c7ec20643475b0bc5567148584c164bf3f3ec4dfb9bf9099819fe1d08594a7c90c054b4fe8d36331af61f8a32acfc9563347b6998bdc2b68773be90","_id":"5a3b065c84af320f5ba1b4f6","created":"2017-12-21T00:54:52.001Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:54:52.007Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:54:52.055Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:54:52.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:52.118Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:54:52.118Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username and password required","timestamp":"2017-12-21T00:54:52.120Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:54:52.152Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:52.152Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:54:52.153Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T00:54:52.154Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:54:52.160Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:54:52.812Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:54:52.898Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:54:52.919Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:58:36.439Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.580Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.673Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.675Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:58:36.675Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:58:36.677Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.684Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.722Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.751Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$s58jBzrh6srG0ZS2JdzX.umoqoLCYJeU5ucmvAHtp0Qvh7KeYOS5i","tokenSeed":"0fa971c1535ecb870692ef6d9d1f7e097a489b1e4986c83c0bcee24c5420c9fd76a26aa8e1cede3bbe8d7804e736d454141fc39b2e31ec35eb4b04a358778808","_id":"5a3b073c2bf73710389f0ee0","created":"2017-12-21T00:58:36.748Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:58:36.754Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:58:36.797Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:58:36.862Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.863Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:58:36.863Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T00:58:36.865Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:58:36.899Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.902Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T00:58:36.902Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T00:58:36.902Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:58:36.906Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:58:37.483Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:58:37.536Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:58:37.558Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:15:56.414Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.479Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.575Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.577Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:15:56.577Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:15:56.578Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.586Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.620Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.647Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$tcipiLePRZl.h8lhDOyC/Oiv1.8pKCokhbXTzj7.9uozLa7J7CUUm","tokenSeed":"c2b23614d882b151633ed6458d3eb84f0b71d9a41321370b26ecf07804b348f153b642958a6b0e4e27f1debd46af77ecf6676c8e20cdffe6bc4604d144b3332d","_id":"5a3b0b4c0bd71d146bfb7b19","created":"2017-12-21T01:15:56.644Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:15:56.649Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:15:56.697Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:15:56.765Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.765Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:15:56.765Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:15:56.767Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:15:56.799Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.801Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:15:56.801Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:15:56.801Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:15:56.805Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:15:57.915Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:15:57.964Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:15:58.018Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:15:58.028Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:16:42.719Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:16:42.934Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:16:43.021Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:16:43.030Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:16:43.559Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.572Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.619Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.620Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:16:43.620Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:16:43.623Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.629Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.664Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.698Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$BeJbQCHw3XfjFxJxILCkGO33Sgdr6qr9oVHPp1NJ.SGdJZ/mot/QC","tokenSeed":"c596b3e1d6baae5729110112d2f9c81e9b9e54ba51a9ee1a523520d1e8df42119912b4b1cc2ccd830c7332779a78f88d5c028b89ac5af215fe26766412c978c8","_id":"5a3b0b7bc4914714a4567ab5","created":"2017-12-21T01:16:43.696Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:16:43.701Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:16:43.738Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:16:43.799Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.800Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:16:43.800Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:16:43.801Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:16:43.833Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.835Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:16:43.835Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:16:43.836Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:16:43.838Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:17:46.592Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:17:46.880Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:17:46.997Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:17:47.861Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:47.940Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:48.032Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.035Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:17:48.035Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:17:48.038Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:48.050Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:48.096Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.132Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$jOR9GjYvwnds7oGoh4.d/.i8A/HWUdFUMhXbG9rM/Pj5cdQjcv6ou","tokenSeed":"dfb334cac2c81471ca05f064485e84790ee95fb5afdd2ad0a1fec502cac343a773b29923bd92f28e8b8335d82d7a8890b5feb03e89e70e96fb72fcd98e30abfe","_id":"5a3b0bbc6db69b14ead86818","created":"2017-12-21T01:17:48.127Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:17:48.135Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:17:48.181Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:17:48.254Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.255Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:17:48.255Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:17:48.257Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:17:48.291Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.294Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:17:48.294Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:17:48.294Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:17:48.296Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:18:54.297Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:18:54.491Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:18:54.578Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:18:54.586Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:18:55.125Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.140Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.183Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.185Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:18:55.185Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:18:55.187Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.192Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.224Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.254Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$qry7Yn2B7nFNA5Fh7s3Qruqx0bxFRV1cECsVqU9bbuaD4dWRG1GnG","tokenSeed":"f0d30bf7a2f1a57709fbf02e63edef734c9610b9359233843bbc0d7747d13b27f66cf220984975df31d09fdb17aca47a6e1d124866f33174fb7604dd5d63e6ff","_id":"5a3b0bffb7ffe51538e0a84d","created":"2017-12-21T01:18:55.252Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:18:55.257Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:18:55.294Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:18:55.365Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.365Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:18:55.365Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:18:55.367Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:18:55.402Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.404Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:18:55.405Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:18:55.405Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:18:55.408Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:19:50.645Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:19:50.854Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:19:50.941Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:19:50.954Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:19:51.458Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.472Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.520Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.522Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:19:51.522Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:19:51.523Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.529Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.562Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.589Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$fejJ6KOvaY9LNnJ974Qvpu1RpyG97eRIE1Xuza3bpaxMjPqXCmOjS","tokenSeed":"ad4d51f700cb58c69a56e212f2f0ca59a06b4b2bcc80f889ad20da998d168e70d9dcbdbbb4ba41f32d9bb1c16e98fe7b63b144fe9ba4c17c38a318926826b830","_id":"5a3b0c3731748615847b0419","created":"2017-12-21T01:19:51.587Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:19:51.592Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:19:51.629Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:19:51.696Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.696Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:19:51.696Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:19:51.698Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:19:51.737Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.740Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:19:51.740Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:19:51.740Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:19:51.744Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:22:28.227Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:22:28.357Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:22:28.440Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:28.446Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:22:28.447Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:22:28.450Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:22:28.455Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:22:29.088Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.101Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.146Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.147Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:22:29.147Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:22:29.149Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.154Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.187Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.214Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$x0OUCsHro.16E5eqSrctyeDR6JLIh.bH3eoGfWp5k6cHcr7FWhub2","tokenSeed":"544c1a8311214f871ea8f109ea2df7af4d605f86fe9fe49bcb26ed7097f1ca9ef08ff1a82f91b6c3c5e1a14edc854e04724e8da9fa4f192906210509265e0ccd","_id":"5a3b0cd53d2d0c1618c48e87","created":"2017-12-21T01:22:29.211Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:22:29.218Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:22:29.257Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:22:29.325Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.326Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:22:29.326Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:22:29.328Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:22:29.364Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.366Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:22:29.366Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:22:29.366Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:22:29.368Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:27:43.915Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:27:44.065Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:27:44.158Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:44.165Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:27:44.166Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:27:44.169Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:27:44.177Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:44.177Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:27:44.178Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:27:44.180Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:27:44.187Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:27:44.864Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.887Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.932Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:44.933Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:27:44.933Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:27:44.935Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.940Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.977Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:45.004Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$AGofGWj6tQTAQ0sbvqlSDODdRZEbz8LMiFMuaOAnpJ9SDR3abXS2q","tokenSeed":"ec24a34ebbcd01f0097acf653222747db1667a5a3a46a3e266bf17352579b09d92c50c8faa94f38f9030acdc165a82f58f414496d799f881919abeb048ee9e1c","_id":"5a3b0e111f82bc172ff6f619","created":"2017-12-21T01:27:45.001Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:27:45.006Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:27:45.047Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:27:45.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:45.119Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:27:45.119Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:27:45.121Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:27:45.156Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:45.158Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:27:45.159Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:27:45.159Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:27:45.162Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:28:32.400Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.538Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.647Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.649Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:28:32.649Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:28:32.651Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.657Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.690Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.721Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$mCxYHpLDo0ozHHw2YjGHUO6LE/u0z2MkOWDvYaWZrSuHDoeVWZbPK","tokenSeed":"f89dd0a0bd2c59a866247f629da850e86ec57ade23747561e0f5a346e99c7756df7bf095a5c005a7a07e5057ffd46f2ee118b0f8a5b320ba5d167ea4e19a4db4","_id":"5a3b0e40d446b2176f3b399d","created":"2017-12-21T01:28:32.719Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:28:32.723Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:28:32.767Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:28:32.837Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.837Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:28:32.838Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:28:32.839Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:28:32.872Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.874Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:28:32.874Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:28:32.874Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:28:32.877Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:16.031Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.100Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.200Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.203Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:16.203Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:29:16.207Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.214Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.251Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.279Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$wz6odpSAJhRXijbRPCJzguprOqKoQx2hpZXx9rMp4xeeJ2D8oBTby","tokenSeed":"332569e7b3d5d37662cd05be4314ed3d84d2b57d850716001ff925e4ffc5b67034828bcf79ec30b4694e9dd59805bac467dde054a6c098ef35e6a4e7b5a2e4c3","_id":"5a3b0e6cba70d717ba8dee55","created":"2017-12-21T01:29:16.275Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:29:16.283Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:16.325Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:16.392Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.392Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:16.392Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:16.394Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:16.426Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.428Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:29:16.428Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:29:16.429Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:16.431Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:17.416Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:17.469Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:17.519Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:17.525Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:29:17.525Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:29:17.529Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:17.534Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:17.534Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:17.534Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:17.536Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:17.539Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:37.601Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.672Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.762Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.763Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:37.763Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:29:37.765Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.771Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.805Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.837Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$B3s/rLLxotNeVV2Iyuv3..O9KG.3Rpg1bgqAke7D.bLf2ZAPw1ckS","tokenSeed":"8c227a043ffe9d726327ff5a835653b9b1c8968d22bc2ce67ce6177cd9a8b64a909ce6457dc8fc5fdf0e352890b60ed820c82e409ab1598e7dddeac04a1e2294","_id":"5a3b0e8102007c17ec8d4200","created":"2017-12-21T01:29:37.833Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:29:37.840Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:37.889Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:37.951Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.951Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:37.951Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:37.953Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:37.987Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.989Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:29:37.990Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:29:37.990Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:37.993Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:39.021Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:39.067Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:39.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:39.125Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:29:39.125Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:29:39.129Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:39.135Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:39.135Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:39.135Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:39.137Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:39.145Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:31:03.446Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:31:03.582Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:31:03.675Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:03.681Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:31:03.682Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:31:03.685Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:31:03.691Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:03.692Z"}
{"message":"__ERROR__ authorization header required","stack":"UnauthorizedError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"UnauthorizedError","level":"info","timestamp":"2017-12-21T01:31:03.692Z"}
{"level":"info","message":"Responding with a 401 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:31:03.694Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:31:03.697Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:31:04.458Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.475Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.523Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.524Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:31:04.524Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:31:04.525Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.531Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.564Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.591Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$7VkU7RSraIDgVernYVHT.Op0dMLKWlUBoRZMa1GNjWp.6hKzM406y","tokenSeed":"5355c9de969696eff0faad65780ddd50af8779ae67040bae2cc95b5916851ff18c49e2f7bb3d7785b767fa98826fe92eb0f5aac819ecf3cb87bc794fd00ac7e5","_id":"5a3b0ed83629ef18533fc316","created":"2017-12-21T01:31:04.589Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:31:04.593Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:31:04.631Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:31:04.696Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.696Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:31:04.696Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:31:04.698Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:31:04.734Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.736Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:31:04.736Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:31:04.736Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:31:04.739Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:35:55.876Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:35:56.083Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:35:56.174Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.180Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:35:56.181Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:35:56.187Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:35:56.227Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.228Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T01:35:56.229Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T01:35:56.235Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:35:56.242Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:35:56.791Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.808Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.861Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.862Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:35:56.862Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:35:56.864Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.870Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.900Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.926Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$jYVmyZbTmOSBbLbYot8mKOvb7AwDuor3sFOqjcWhDfwX6IgFui7Na","tokenSeed":"0bbd801c8f4a8e78bcfe9affcd4c2ec6572faf26c4d03dfd9d995dc1045a0bd1a43f5f827a78a4031361005eb7218a52b6f9d5e3463e2d377b9dadc2eac58dc6","_id":"5a3b0ffc5f6f63194fb0edb8","created":"2017-12-21T01:35:56.924Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:35:56.928Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:35:56.963Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:35:57.032Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:57.032Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:35:57.032Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:35:57.034Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:35:57.068Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:57.069Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:35:57.070Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:35:57.070Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:35:57.073Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:24.450Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:24.665Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:24.745Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:24.751Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:36:24.751Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:36:24.755Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:24.794Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:24.796Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T01:36:24.796Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T01:36:24.798Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:24.802Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:25.313Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.327Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.375Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.376Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:25.376Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:36:25.377Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.383Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.416Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.443Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$G/B.xEC1he99ntaKBL8TnuPNnXd/JjBnod/EeI799fRwNpHXsPwrW","tokenSeed":"15324a6c9db6a7ad82e1091b30f0ace49cdddaa89bc878af0b560cd3edc08bfcf20e23c140c408e3a782af199c343fb8b6b415d17ed090b5cd8ea8248ff78280","_id":"5a3b10193f38c719885feb4a","created":"2017-12-21T01:36:25.441Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:36:25.445Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:25.479Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:25.551Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.551Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:25.551Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:36:25.553Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:25.588Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.590Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:36:25.590Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:36:25.591Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:25.593Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:58.467Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:58.667Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:58.754Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:58.761Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:36:58.761Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:36:58.765Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:58.773Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:58.774Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T01:36:58.774Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T01:36:58.777Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:58.780Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:59.356Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.370Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.418Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.418Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:59.419Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:36:59.420Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.425Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.461Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.491Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$e8O16fW/WFhbQXsSZesrYec6x0VwzzYtQgFHR2plmh4AGjrt1ijJi","tokenSeed":"49e68dd54ffa48c2d105beed2f24f5c5d839ddf6a971da9f4eb75dbf705ea9368943fe2c0ef00cfd63087dca83a539500df62b4ac1f4f7a251367c48415a58e4","_id":"5a3b103bbf71ed19bf6858c9","created":"2017-12-21T01:36:59.488Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:36:59.493Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:59.536Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:59.603Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.603Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:59.603Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:36:59.605Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:59.639Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.641Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:36:59.641Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:36:59.641Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:59.644Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:41:15.770Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:41:15.930Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:41:16.020Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.027Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:41:16.027Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:41:16.032Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:41:16.038Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.045Z"}
{"message":"Cannot read property 'tokenSeed' of undefined","stack":"TypeError: Cannot read property 'tokenSeed' of undefined\n    at promisify.catch.then.decryptedData (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:35:55)\n    at <anonymous>\n    at runMicrotasksCallback (internal/process/next_tick.js:121:5)\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-21T01:41:16.045Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-21T01:41:16.045Z"}
{"message":"Cannot read property 'tokenSeed' of undefined","stack":"TypeError: Cannot read property 'tokenSeed' of undefined\n    at promisify.catch.then.decryptedData (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:35:55)\n    at <anonymous>\n    at runMicrotasksCallback (internal/process/next_tick.js:121:5)\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-21T01:41:16.045Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:41:16.046Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:41:16.721Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.736Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.780Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.781Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:41:16.781Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:41:16.782Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.788Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.821Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.846Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$M6r8As5iaBDs/aAlEpVo9eG4oXmMpcZPm8A35HqC2DWKPowor1SmW","tokenSeed":"4f985778c199e9e78eb7c7d05cc4471bed8affada0e2c5e0c44b09c52c2f561f103fee97f4a8bd33a4df6fcb1177aac4c4b2bc8c53271cbfd21f30decfc1d768","_id":"5a3b113c1ccf001a9eb357ba","created":"2017-12-21T01:41:16.844Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:41:16.848Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:41:16.884Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:41:16.958Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.958Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:41:16.958Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:41:16.960Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:41:16.997Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.999Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:41:16.999Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:41:16.999Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:41:17.002Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:44:34.243Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:44:34.388Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:44:34.482Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:34.573Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:44:34.573Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:44:34.581Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:44:34.593Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:34.594Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T01:44:34.595Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T01:44:34.597Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:44:34.601Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:44:35.177Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.189Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.235Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.236Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:44:35.236Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:44:35.237Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.242Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.274Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.307Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$ZogXF3fvzi1iOmpTygmxielmdxL2pbFkZcqjsRPbGkCVlHyJpctAa","tokenSeed":"18d4d50d6e9535f3f9b9d42efc0c12a38ff3d5eafecbeb4ef3116be3f9451de692f1677c1dbf766d45a6f0759e35a998bd57280e2f2717b487a22f1ca81de453","_id":"5a3b12033800471b32224572","created":"2017-12-21T01:44:35.303Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:44:35.310Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:44:35.354Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:44:35.428Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.428Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:44:35.428Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:44:35.430Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:44:35.469Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.471Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:44:35.471Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:44:35.471Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:44:35.474Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:46:10.892Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:46:11.066Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:46:11.157Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.169Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:46:11.169Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:46:11.174Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:46:11.181Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.182Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T01:46:11.183Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T01:46:11.187Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:46:11.192Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:46:11.858Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.872Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.927Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.928Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:46:11.928Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:46:11.929Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.935Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.968Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.995Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$werKKA0lxX8sJpiWuJ74he/NiT2IrQ8p/zwG82Z6ziAB/erLq0raW","tokenSeed":"1222f6285b86a612987f941dd89af3c9c7b474600292cba169149400098ff8a8c2c2f855efc6e303323604f9b47479d186a67fe0b7319e4054b954ee1e7c7720","_id":"5a3b1263a024c91ba7eadd3e","created":"2017-12-21T01:46:11.993Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:46:11.997Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:46:12.041Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:46:12.112Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:12.113Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:46:12.113Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:46:12.115Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:46:12.150Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:12.152Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:46:12.152Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:46:12.152Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:46:12.155Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:10:09.458Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.594Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.709Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.712Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:09.712Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:10:09.715Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.722Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.754Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.782Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$fNdF.9lz0KgC9MDBlxtPaOBSgdajuCZ5xiL5unjYy6yMVU2FGGVCi","tokenSeed":"4f077f979eb3e072a88bab2503f214daabdb6884a15050b9f8467686b296f5d60afb3511318d3d00c367b4961937bb487cae820a520102d511af7c734812b58c","_id":"5a3b180146b5921f6cca7c8d","created":"2017-12-21T02:10:09.779Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:10:09.784Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:09.825Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:09.891Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.892Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:09.892Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:10:09.894Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:09.929Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.932Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:10:09.932Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:10:09.932Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:10:09.935Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:10:52.785Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:52.857Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:52.971Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:52.973Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:52.973Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:10:52.975Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:52.981Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:53.017Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:53.044Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$s1S0SnNZIh/DE4p9Ee3NZelu/shF3/fRuP1kUC.tLSCS8IrxuZXh2","tokenSeed":"5de422dd65971b5eda072ba504fbd681dcbbb799046c27ddd8742f7466e488e824de3bbd7f66470df155dbd29800dcabd29508045acd6f0e649bfcc83c3ec9c2","_id":"5a3b182dcd6ab41fb0108fb0","created":"2017-12-21T02:10:53.040Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:10:53.047Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:53.091Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:53.162Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:53.162Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:53.163Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:10:53.165Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:53.197Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:53.199Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:10:53.199Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:10:53.199Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:10:53.202Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:10:54.194Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:10:54.256Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:10:54.315Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:54.321Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:10:54.321Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:10:54.325Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:10:54.331Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:54.332Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:10:54.332Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:10:54.335Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:10:54.343Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:11:26.001Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:11:26.217Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:11:26.300Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:26.307Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:11:26.307Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:11:26.312Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:11:26.319Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:26.320Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:11:26.320Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:11:26.322Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b184e51734b1fe22b0e63","timestamp":"2017-12-21T02:11:26.360Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-21T02:11:26.361Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:11:26.365Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:11:26.919Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:26.937Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:26.989Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:26.990Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:11:26.990Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:11:26.992Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:26.997Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:27.033Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:27.061Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$yJW69OimZwb5q2O8OvQoX.Mr2.O1qJGYRNUD6de4SHWSuN9IxSm/m","tokenSeed":"822bae8d03f69bc07b7cb08824972d51f4e33180dbec3b43291636a81ce3fefb5873396db94f77c3d310e6a425ac3243d47c4ec658eb945a177d8d85d3af6247","_id":"5a3b184fe0af701fe23efcd6","created":"2017-12-21T02:11:27.058Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:11:27.063Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:11:27.100Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:11:27.166Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:27.166Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:11:27.166Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:11:27.168Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:11:27.202Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:27.204Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:11:27.204Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:11:27.205Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:11:27.207Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:18:19.480Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:18:19.686Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:18:19.769Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:19.776Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:18:19.776Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:18:19.780Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:18:19.786Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:19.787Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:18:19.787Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:18:19.789Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b19ebaba381214169c666","timestamp":"2017-12-21T02:18:19.831Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-21T02:18:19.831Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:18:19.837Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:18:20.361Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.378Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.429Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.430Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:18:20.430Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:18:20.431Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.436Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.468Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.498Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$/inHiNG/DOeBtyXpvgYBt.7NLWFxU03YzyoIAkTkEmSjYpos0fIHa","tokenSeed":"63571eac08826226e192824309af2893a94ba45f75942853249e295c5bfb61e98265cf522b3cebcf245ba18eff0f970a394d90519c206d44555ca8de63e48a31","_id":"5a3b19ecfcfd90214186b581","created":"2017-12-21T02:18:20.494Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:18:20.500Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:18:20.540Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:18:20.601Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.602Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:18:20.602Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:18:20.604Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:18:20.637Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.639Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:18:20.639Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:18:20.639Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:18:20.642Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:35:51.631Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:35:51.754Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:35:51.845Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:51.851Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:35:51.851Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:35:51.854Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:35:51.861Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:51.863Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:35:51.863Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:35:51.865Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b1e078e68ec245facd130","timestamp":"2017-12-21T02:35:51.900Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:35:51.908Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:35:52.555Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.569Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.618Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.619Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:35:52.619Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:35:52.620Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.626Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.658Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.685Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$CPvWqVOzYZEMPkcpuC8WMOFteI3fujxSgw3hMyuT4J42nk1arycqy","tokenSeed":"9a6069cdf8b0077ae89cc3ba63aa9476ece73787ad5c7bec78acb48b21913d14ed57faafc730813bf07b9e0e40b1554f29000685dea0b37a80b828a8a8966a47","_id":"5a3b1e08c6dd33245f3bdbb4","created":"2017-12-21T02:35:52.682Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:35:52.689Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:35:52.728Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:35:52.793Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.793Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:35:52.794Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:35:52.796Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:35:52.829Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.831Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:35:52.831Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:35:52.831Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:35:52.833Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:44:47.960Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:44:48.089Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:44:48.169Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:48.176Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:44:48.176Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:44:48.179Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:44:48.185Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:48.186Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:44:48.186Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:44:48.188Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2020fafe662619de7585","timestamp":"2017-12-21T02:44:48.227Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:44:48.238Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:44:48.918Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:48.935Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:48.991Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:48.993Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:44:48.993Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:44:48.996Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:49.003Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:49.038Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:49.069Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$drwP1WbPxzR5sOglriZlT.q4Jk.RWIrZEc8lQSVt26B8ox4iYM7j.","tokenSeed":"67ccd80cc2e375f0cb79494f6a19b20d5c7c75325791e590f4a74cd8f47a46ec2e5eaf9baeb2b312e0ebdaef2e93aa4ed58ea1d6eb382a61aa1c8d605da9efdc","_id":"5a3b20211c9a862619ff600a","created":"2017-12-21T02:44:49.067Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:44:49.071Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:44:49.107Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:44:49.172Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:49.173Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:44:49.173Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:44:49.175Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:44:49.209Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:49.211Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:44:49.211Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:44:49.211Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:44:49.214Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:52:56.734Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:52:56.956Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:52:57.039Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.046Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:52:57.046Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:52:57.050Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:52:57.056Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.057Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:52:57.058Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:52:57.060Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2209a14f1027aa9f2885","timestamp":"2017-12-21T02:52:57.101Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2209a14f1027aa9f2887","timestamp":"2017-12-21T02:52:57.144Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.145Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:52:57.145Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:52:57.147Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:52:57.151Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:52:57.696Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.709Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.756Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.757Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:52:57.757Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:52:57.758Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.764Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.803Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.833Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$lvBS7dj6rxViPFUUWnPeB.ON.bWATZIpWHSf2zMlSy5bTCUQTgOgu","tokenSeed":"419af0d28210454870923d39931bc063523c4595dc261b10f04c55bd38c4c4d0f0248e831ab595a620ae8ccc2bd381ac079340b21bfadded7d2b70b3530932fe","_id":"5a3b220905006627aa5ba525","created":"2017-12-21T02:52:57.829Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:52:57.835Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:52:57.870Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:52:57.931Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.931Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:52:57.932Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:52:57.933Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:52:57.966Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.969Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:52:57.969Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:52:57.969Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:52:57.973Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:24.107Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:24.333Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:24.417Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.424Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:54:24.424Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:54:24.428Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:24.435Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.436Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:54:24.437Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:54:24.439Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2260883736281dc6ef9c","timestamp":"2017-12-21T02:54:24.479Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2260883736281dc6ef9e","timestamp":"2017-12-21T02:54:24.521Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.522Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:24.522Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:24.523Z"}
{"level":"info","message":"Processing : GET on : /profiles/badId","timestamp":"2017-12-21T02:54:24.559Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.563Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T02:54:24.563Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T02:54:24.564Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:24.571Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:25.127Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.142Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.187Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.189Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:25.189Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:54:25.190Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.196Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.229Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.256Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$/nob40uMyxA8cMUTxMEaIeNutdLAiZuXw2ELpfeGE4UcDw5lDE95m","tokenSeed":"6b1a960c2c5000d773fda4c1bf8e61f3ae12587bcda77ac958fe3fb438ffb661f8f94faecb4b35d1c02c582b940c0c3567c6a9474b42a1edebd31469cfda0060","_id":"5a3b2261d69505281d8449ec","created":"2017-12-21T02:54:25.253Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:54:25.260Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:25.296Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:25.358Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.359Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:25.359Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:25.361Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:25.394Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.396Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:54:25.396Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:54:25.397Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:25.399Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:49.789Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:49.919Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:50.008Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.014Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:54:50.014Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:54:50.019Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:50.025Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.027Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:54:50.027Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:54:50.029Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b227a842184284834bf6f","timestamp":"2017-12-21T02:54:50.073Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b227a842184284834bf71","timestamp":"2017-12-21T02:54:50.114Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.115Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:50.116Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:50.117Z"}
{"level":"info","message":"Processing : GET on : /profiles/badId","timestamp":"2017-12-21T02:54:50.151Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.154Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T02:54:50.154Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T02:54:50.155Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:50.159Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:50.767Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.781Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.830Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.831Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:50.832Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:54:50.833Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.839Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.869Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.895Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$vGYvFt/sGCPb81VpGzj7muhGn8zk464/aK0dDGUcj597pWVCIpMEq","tokenSeed":"779673498f4577648a26d12b9e1fce1d3fabdcaaaaa74df5dd36ecdf055bebf3a06775f45dcaa8be4f7e927bc086eebacb97bd3b6d46125eabd4adbc0e25c6f2","_id":"5a3b227a68e78e284893b45a","created":"2017-12-21T02:54:50.893Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:54:50.897Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:50.935Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:50.999Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.999Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:50.999Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:51.001Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:51.033Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:51.035Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:54:51.036Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:54:51.036Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:51.039Z"}
