{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:29:50.697Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:29:50.818Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:29:50.953Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:33:01.530Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:33:01.582Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:33:31.796Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:33:31.865Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:33:31.975Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:34:04.781Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:04.967Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:05.075Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:34:05.076Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:34:05.076Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:34:05.079Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:34:05.083Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:34:25.266Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:25.331Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:34:25.426Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:34:25.428Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:34:25.428Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:34:25.429Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:34:25.435Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:43:56.159Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:43:56.298Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:43:56.414Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:43:56.416Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:43:56.416Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:43:56.418Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:43:56.423Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:52:19.914Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:52:19.977Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:52:20.086Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:52:20.088Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:52:20.088Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:52:20.090Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:52:20.095Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T04:56:33.783Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:33.922Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:34.028Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:56:34.030Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T04:56:34.030Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T04:56:34.032Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:34.038Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T04:56:34.072Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T04:56:34.107Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$mSbL.Byd9BSDRz8CpvMmfukDq71DDd.xkRmt/MVvNRfGjx8aXxpR2","tokenSeed":"567bcfa8c1b053ef7d3103c645d302a265d452379d9c492d435d69ea21f111933dda4a38877ce9ec9b4d5077604a1c8a8066ccd2a776a6b684e20d395e5268f3","_id":"5a39ed8274fe61d6990d7cc4","created":"2017-12-20T04:56:34.100Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T04:56:34.110Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T04:56:34.114Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-20T05:11:31.450Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T05:11:59.323Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T05:12:26.814Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T17:46:57.075Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.230Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.363Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:46:57.365Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T17:46:57.365Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T17:46:57.369Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.378Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:46:57.421Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:46:57.457Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$pMdJ5fATzBNg2ClDMP.Tge2sG9Lx7i75a2LaPexqK3G/HplFvMYPy","tokenSeed":"27c7b5878448e7b0fd4edad5b18db1ef548c99d6d8cca8e831bec404fe7fbb4af6ea771d72489bc109a20d9c80f508adade843a1361a42309445998ed385d3c8","_id":"5a3aa211574eefe001423d41","created":"2017-12-20T17:46:57.449Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T17:46:57.460Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T17:46:57.468Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T17:48:08.948Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.089Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.192Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:48:09.193Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T17:48:09.194Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T17:48:09.196Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.202Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T17:48:09.249Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T17:48:09.279Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$K1G4bIhqRkuySljt7CZeV.4yJ35R8JNiGatM9zPZUgWQqkL91kaba","tokenSeed":"c3c08ae019d98e89a2968e82922f68b63248865e068e8dbedfaa30d890968a417ac3011500d79dba1e6ae40ac35a284251eb68cfd8912bf10f90bc5a2b3f2d13","_id":"5a3aa2590b3e8ae05ab8b479","created":"2017-12-20T17:48:09.276Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T17:48:09.282Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T17:48:09.333Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-20T17:48:09.334Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T17:48:09.343Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T18:34:08.535Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.605Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.700Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:34:08.702Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T18:34:08.702Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T18:34:08.703Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.711Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:34:08.743Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:34:08.774Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$y9UzksICm4LMtVFC8T/NZeYifEKhOvWyvcaXPu.QdDWYRm0ymjCF2","tokenSeed":"d4b207dfb35a0ebb02c71a5e6b3d637721b7879cac8aeda1e0a8a60133486c483dd1366e8a68b49ef53bf2bd262c3ef0a7a1d45598e55a654ca4f6dbf6d62699","_id":"5a3aad209532d0e71d7cc68c","created":"2017-12-20T18:34:08.770Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T18:34:08.778Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T18:34:08.830Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-20T18:34:08.831Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T18:34:08.839Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T18:35:39.430Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.598Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.694Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:35:39.696Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:12:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T18:35:39.696Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T18:35:39.699Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.709Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:35:39.742Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:35:39.773Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$odIoHUQH6aSXq.H2IORFSuzIovTZuIIdbHTZ5W683zBHJm7FRKIvu","tokenSeed":"58117c93c56b12a61b5498791ad9a5bc1d95fa531d79c6e7fb7aa26b399fa0a4487bcef01406b4e515983aec73118d94aafdc4fa7628d476e6014ea3642870ce","_id":"5a3aad7b3d9e0ce78086a4b0","created":"2017-12-20T18:35:39.769Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T18:35:39.776Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T18:35:39.827Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-20T18:35:39.828Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T18:35:39.834Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T18:53:09.657Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.803Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.899Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:53:09.901Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T18:53:09.901Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T18:53:09.903Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.911Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T18:53:09.948Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T18:53:09.979Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$JggRb2PWjfwcqVrp9odEFOOMbft06SpK/oPuYhCPAoS1ufC9rrOCy","tokenSeed":"400172c1f1618abe13b7947ff4b5462f652b4bb2d11f6f647aabed4740289d75fba1a1f41e3337e3c99fbf634ab5e1199de791c72ca97a90ccbdc3d3335d4fc5","_id":"5a3ab195b3a87deb447df874","created":"2017-12-20T18:53:09.975Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T18:53:09.983Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T18:53:10.036Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T18:53:10.077Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:17:10.199Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.393Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.516Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:17:10.518Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:17:10.518Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:17:10.522Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.528Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:17:10.561Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:17:10.588Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$uu8FvjagcAsydTd0gi1KwuQYRUG9bfhOjODjoGnM4KtMWwpjmsVyW","tokenSeed":"ae3148ee9783a5b7a27ed92c9492909f9fe773eb9cd27add2b0f3535c8665200c72c341460b70ef3091f5637c6829e10bc982261b8482545069694aaf4458705","_id":"5a3ac546932dd7f89e7d9279","created":"2017-12-20T20:17:10.586Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:17:10.591Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:17:10.637Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:17:10.672Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:17:11.282Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:17:11.294Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:18:36.204Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T20:18:36.406Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:18:36.411Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-20T20:18:36.411Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-20T20:18:36.414Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:18:36.430Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:18:37.014Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.028Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.093Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:18:37.094Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:18:37.094Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:18:37.095Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.100Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:18:37.134Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:18:37.162Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$zbf4IR2mnZxf1.U9rUJfLe8vA9xK4uUzHA9kHE5RO3UHrQi18cxFi","tokenSeed":"b83385c2a865a8158881059bfd4456f583410f29c82377b177d8a8cd4587b6aeaef0a5393aab403d67f4f13040c9f8a4ee7f65563a9b8fb96383ec7a95f0a625","_id":"5a3ac59d1122ecf8f9f224d5","created":"2017-12-20T20:18:37.159Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:18:37.164Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:18:37.198Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:18:37.229Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:23.772Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T20:21:23.989Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:24.039Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:24.678Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.691Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.740Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:24.742Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:21:24.742Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:21:24.744Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.750Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:24.783Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:24.813Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$YayrXCJ/fjCOsdiapKhA0.T9iXurMdv3UbTShPp0fz/cXMn9ToGCe","tokenSeed":"353d1db35f6927e43c5e5556798271b98ff25da97bd6a4443d4698276d03edb086da09eeecbf01683487f2d7b6763f1fa631e48e63a7092643f8f7e5c6d4140d","_id":"5a3ac644193d0df99e5e58f3","created":"2017-12-20T20:21:24.810Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:21:24.816Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:21:24.854Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:24.888Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:45.513Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T20:21:45.727Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:45.773Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T20:21:46.319Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.333Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.381Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:46.382Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T20:21:46.383Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T20:21:46.384Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.392Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T20:21:46.427Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T20:21:46.454Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$50/6iZv66WJdnQKzrxYgA.xlBQQKkZMBzDE1mMeoGn5mmEABbooXS","tokenSeed":"e8fbfe7cc33e494d6105b77369b2fc87df104b23a8a7bc19a54a66673557d564e98a4e5a1731bcecaf66c240ecdc4539e59d5577ce4393f1cfd6dd67a796441b","_id":"5a3ac65a89d18af9c92ad5f4","created":"2017-12-20T20:21:46.450Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T20:21:46.458Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T20:21:46.495Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T20:21:46.527Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:01:04.271Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T21:01:04.402Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:01:04.457Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:01:05.050Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.064Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.115Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:01:05.116Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T21:01:05.117Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T21:01:05.118Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.125Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:01:05.159Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:01:05.191Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$uk/.n5wmoWQY5AN/JoEpJO/Kgj9hG3iciHGhIH7OgGc1tvwAsmdpK","tokenSeed":"61f0c823e0fd7fb2af9df7151969e64e64328e7105ba61d27fdabfc1730d7f9bf1941cec592359994b5b2b290c852ee14bf86bba27ee6db27f69128aada21e4b","_id":"5a3acf9186e6eafbf12c450e","created":"2017-12-20T21:01:05.187Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T21:01:05.194Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T21:01:05.231Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:01:05.266Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:23:12.339Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T21:23:12.565Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:23:12.623Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T21:23:13.235Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.251Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.303Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:23:13.305Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T21:23:13.305Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T21:23:13.306Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.312Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T21:23:13.346Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T21:23:13.375Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$M4x/gGLjf2gpX1okrz8vie7uhBIUaUGxV8icX.f39ibTr5jzAtcGW","tokenSeed":"d769843bed28035fbc427279443820bc90617a512601938f2a65c24e87e83d977a7d1c6cb0a62fd1a0debf77f4a23c29b4cec32e743d51b29cb1f1cdae84bb7a","_id":"5a3ad4c188adc2fedc723b92","created":"2017-12-20T21:23:13.370Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T21:23:13.377Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T21:23:13.418Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T21:23:13.451Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:38:48.178Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T23:38:48.308Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:38:48.359Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:38:49.028Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.043Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.089Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:38:49.090Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T23:38:49.090Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T23:38:49.092Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.097Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:38:49.131Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:38:49.159Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$/BVyXHCtVulmnXdeQNieGeXyuiRo86Gf5AVKV0n4QBh9WPlKj6Za2","tokenSeed":"20cc9e4f2d893e4f021f2b6e95cc3a26453327c3a0363373799ee93223e5b4a3fc2acb2fd555f67b712e8ca1c37230e70223b53062d89aa4da7cc163a3729c24","_id":"5a3af4895323260832507666","created":"2017-12-20T23:38:49.155Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T23:38:49.163Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T23:38:49.203Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:38:49.235Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:43:53.125Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:43:53.182Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:43:53.783Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:53.930Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:54.021Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:43:54.023Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T23:43:54.023Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T23:43:54.026Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:54.041Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:43:54.077Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:43:54.103Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$IkctBEQ.vEA14wXGRP0lIeGnZr.ifdeFmVXu5p85OSf64uhRofC9a","tokenSeed":"dd1f4999753cfccd39cce1a5ee86060b7ee7c78d4ca047b9db343003821eaf1004cd11a76ca4a04a01b74475fe923ac49d96728b9f00e10cc50276c1dcf8fb43","_id":"5a3af5bab692d409740cb6cf","created":"2017-12-20T23:43:54.101Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T23:43:54.106Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:43:54.112Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:44:36.013Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-20T23:44:36.182Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:44:36.241Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-20T23:44:36.990Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.009Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.060Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:44:37.062Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-20T23:44:37.062Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-20T23:44:37.064Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.071Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-20T23:44:37.111Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-20T23:44:37.138Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$9jZUiKDb/IEr4mmKuJByN.luG8CC4MApkptVP5n20BAHUPhUevNHS","tokenSeed":"fb9d6313a3305f2f25e6dda2b986e7fc2241df511bba2a78bc2b1cd870fd2ab4e2c99ba9ca3c576a626f8b836d8f1eb5cf367bc4cfebe936807a48b33942eafc","_id":"5a3af5e5110bb509b179845c","created":"2017-12-20T23:44:37.136Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-20T23:44:37.141Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-20T23:44:37.182Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-20T23:44:37.217Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:44:54.133Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:44:54.263Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:44:54.312Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:44:55.487Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.501Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.546Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:44:55.547Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:44:55.547Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:44:55.549Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.554Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:44:55.586Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:44:55.612Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$BrZWERW4pOyqRo..xA.2ROwqgRopLCgzaKVeEvkZ03ddqwWCjnCIe","tokenSeed":"06731b223fcb188e8ad80271d5ca805ddbca97243e552733ff8403410b92915a5e1efc198036d4548fdf4ff4adfddf3e93f4294d3c3f996e977a1e455241913c","_id":"5a3b04075d627a0db8b200c3","created":"2017-12-21T00:44:55.610Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:44:55.614Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:44:55.650Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:44:55.711Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:44:55.711Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:44:55.712Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username and password required","timestamp":"2017-12-21T00:44:55.714Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:44:55.719Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:46:30.738Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:30.881Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:30.980Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:46:30.981Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:46:30.982Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:46:30.984Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:30.991Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:46:31.025Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:46:31.055Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$bIBG7Db4GLMKBl7cC4zTi.TjE.miD0FKpmRBsEQfwXUcWJGXC7teq","tokenSeed":"0f703fe6e4df3ae081dfd76b577b0a0287c1a4c8482cb570f429d06661c8a5b84f3c217d1d803ddbf44ec19f3a689274311d46e28bb07e06feb35b8c1ca32d8c","_id":"5a3b0467c6ebb70e1c7bd33f","created":"2017-12-21T00:46:31.052Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:46:31.058Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:46:31.104Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:46:31.165Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:46:31.166Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:46:31.166Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username and password required","timestamp":"2017-12-21T00:46:31.167Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:46:31.171Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:46:31.662Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:46:31.708Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:46:31.726Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:54:51.707Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.798Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.925Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:51.927Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:54:51.927Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:54:51.929Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.936Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:54:51.976Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:52.004Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$TcnzeD4xJ1bl/ZXwKHH4jutwbiw0GvCxCXe3x0jdd87hQwJmYFGO6","tokenSeed":"1abc4af75c7ec20643475b0bc5567148584c164bf3f3ec4dfb9bf9099819fe1d08594a7c90c054b4fe8d36331af61f8a32acfc9563347b6998bdc2b68773be90","_id":"5a3b065c84af320f5ba1b4f6","created":"2017-12-21T00:54:52.001Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:54:52.007Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:54:52.055Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:54:52.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:52.118Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:54:52.118Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username and password required","timestamp":"2017-12-21T00:54:52.120Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:54:52.152Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:54:52.152Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:54:52.153Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T00:54:52.154Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:54:52.160Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:54:52.812Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:54:52.898Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:54:52.919Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:58:36.439Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.580Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.673Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.675Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:58:36.675Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T00:58:36.677Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.684Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T00:58:36.722Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.751Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$s58jBzrh6srG0ZS2JdzX.umoqoLCYJeU5ucmvAHtp0Qvh7KeYOS5i","tokenSeed":"0fa971c1535ecb870692ef6d9d1f7e097a489b1e4986c83c0bcee24c5420c9fd76a26aa8e1cede3bbe8d7804e736d454141fc39b2e31ec35eb4b04a358778808","_id":"5a3b073c2bf73710389f0ee0","created":"2017-12-21T00:58:36.748Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T00:58:36.754Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:58:36.797Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:58:36.862Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.863Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T00:58:36.863Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T00:58:36.865Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T00:58:36.899Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T00:58:36.902Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T00:58:36.902Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T00:58:36.902Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:58:36.906Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T00:58:37.483Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T00:58:37.536Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T00:58:37.558Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:15:56.414Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.479Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.575Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.577Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:15:56.577Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:15:56.578Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.586Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:15:56.620Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.647Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$tcipiLePRZl.h8lhDOyC/Oiv1.8pKCokhbXTzj7.9uozLa7J7CUUm","tokenSeed":"c2b23614d882b151633ed6458d3eb84f0b71d9a41321370b26ecf07804b348f153b642958a6b0e4e27f1debd46af77ecf6676c8e20cdffe6bc4604d144b3332d","_id":"5a3b0b4c0bd71d146bfb7b19","created":"2017-12-21T01:15:56.644Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:15:56.649Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:15:56.697Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:15:56.765Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.765Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:15:56.765Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:15:56.767Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:15:56.799Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:15:56.801Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:15:56.801Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:15:56.801Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:15:56.805Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:15:57.915Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:15:57.964Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:15:58.018Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:15:58.028Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:16:42.719Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:16:42.934Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:16:43.021Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:16:43.030Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:16:43.559Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.572Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.619Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.620Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:16:43.620Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:16:43.623Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.629Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:16:43.664Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.698Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$BeJbQCHw3XfjFxJxILCkGO33Sgdr6qr9oVHPp1NJ.SGdJZ/mot/QC","tokenSeed":"c596b3e1d6baae5729110112d2f9c81e9b9e54ba51a9ee1a523520d1e8df42119912b4b1cc2ccd830c7332779a78f88d5c028b89ac5af215fe26766412c978c8","_id":"5a3b0b7bc4914714a4567ab5","created":"2017-12-21T01:16:43.696Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:16:43.701Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:16:43.738Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:16:43.799Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.800Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:16:43.800Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:16:43.801Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:16:43.833Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:16:43.835Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:16:43.835Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:16:43.836Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:16:43.838Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:17:46.592Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:17:46.880Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:17:46.997Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:17:47.861Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:47.940Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:48.032Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.035Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:17:48.035Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:17:48.038Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:48.050Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:17:48.096Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.132Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$jOR9GjYvwnds7oGoh4.d/.i8A/HWUdFUMhXbG9rM/Pj5cdQjcv6ou","tokenSeed":"dfb334cac2c81471ca05f064485e84790ee95fb5afdd2ad0a1fec502cac343a773b29923bd92f28e8b8335d82d7a8890b5feb03e89e70e96fb72fcd98e30abfe","_id":"5a3b0bbc6db69b14ead86818","created":"2017-12-21T01:17:48.127Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:17:48.135Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:17:48.181Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:17:48.254Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.255Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:17:48.255Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:17:48.257Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:17:48.291Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:17:48.294Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:17:48.294Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:17:48.294Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:17:48.296Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:18:54.297Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:18:54.491Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:18:54.578Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:18:54.586Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:18:55.125Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.140Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.183Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.185Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:18:55.185Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:18:55.187Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.192Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:18:55.224Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.254Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$qry7Yn2B7nFNA5Fh7s3Qruqx0bxFRV1cECsVqU9bbuaD4dWRG1GnG","tokenSeed":"f0d30bf7a2f1a57709fbf02e63edef734c9610b9359233843bbc0d7747d13b27f66cf220984975df31d09fdb17aca47a6e1d124866f33174fb7604dd5d63e6ff","_id":"5a3b0bffb7ffe51538e0a84d","created":"2017-12-21T01:18:55.252Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:18:55.257Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:18:55.294Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:18:55.365Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.365Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:18:55.365Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:18:55.367Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:18:55.402Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:18:55.404Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:18:55.405Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:18:55.405Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:18:55.408Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:19:50.645Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:19:50.854Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:19:50.941Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:19:50.954Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:19:51.458Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.472Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.520Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.522Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:19:51.522Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:19:51.523Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.529Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:19:51.562Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.589Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$fejJ6KOvaY9LNnJ974Qvpu1RpyG97eRIE1Xuza3bpaxMjPqXCmOjS","tokenSeed":"ad4d51f700cb58c69a56e212f2f0ca59a06b4b2bcc80f889ad20da998d168e70d9dcbdbbb4ba41f32d9bb1c16e98fe7b63b144fe9ba4c17c38a318926826b830","_id":"5a3b0c3731748615847b0419","created":"2017-12-21T01:19:51.587Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:19:51.592Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:19:51.629Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:19:51.696Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.696Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:19:51.696Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:19:51.698Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:19:51.737Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:19:51.740Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:19:51.740Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:19:51.740Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:19:51.744Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:22:28.227Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:22:28.357Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:22:28.440Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:28.446Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:22:28.447Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:22:28.450Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:22:28.455Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:22:29.088Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.101Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.146Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.147Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:22:29.147Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:22:29.149Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.154Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:22:29.187Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.214Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$x0OUCsHro.16E5eqSrctyeDR6JLIh.bH3eoGfWp5k6cHcr7FWhub2","tokenSeed":"544c1a8311214f871ea8f109ea2df7af4d605f86fe9fe49bcb26ed7097f1ca9ef08ff1a82f91b6c3c5e1a14edc854e04724e8da9fa4f192906210509265e0ccd","_id":"5a3b0cd53d2d0c1618c48e87","created":"2017-12-21T01:22:29.211Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:22:29.218Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:22:29.257Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:22:29.325Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.326Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:22:29.326Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:22:29.328Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:22:29.364Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:22:29.366Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:22:29.366Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:22:29.366Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:22:29.368Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:27:43.915Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:27:44.065Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:27:44.158Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:44.165Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:27:44.166Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:27:44.169Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:27:44.177Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:44.177Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:27:44.178Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:27:44.180Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:27:44.187Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:27:44.864Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.887Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.932Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:44.933Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:27:44.933Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:27:44.935Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.940Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:27:44.977Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:45.004Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$AGofGWj6tQTAQ0sbvqlSDODdRZEbz8LMiFMuaOAnpJ9SDR3abXS2q","tokenSeed":"ec24a34ebbcd01f0097acf653222747db1667a5a3a46a3e266bf17352579b09d92c50c8faa94f38f9030acdc165a82f58f414496d799f881919abeb048ee9e1c","_id":"5a3b0e111f82bc172ff6f619","created":"2017-12-21T01:27:45.001Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:27:45.006Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:27:45.047Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:27:45.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:45.119Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:27:45.119Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:27:45.121Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:27:45.156Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:27:45.158Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:27:45.159Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:27:45.159Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:27:45.162Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:28:32.400Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.538Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.647Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.649Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:28:32.649Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:28:32.651Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.657Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:28:32.690Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.721Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$mCxYHpLDo0ozHHw2YjGHUO6LE/u0z2MkOWDvYaWZrSuHDoeVWZbPK","tokenSeed":"f89dd0a0bd2c59a866247f629da850e86ec57ade23747561e0f5a346e99c7756df7bf095a5c005a7a07e5057ffd46f2ee118b0f8a5b320ba5d167ea4e19a4db4","_id":"5a3b0e40d446b2176f3b399d","created":"2017-12-21T01:28:32.719Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:28:32.723Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:28:32.767Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:28:32.837Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.837Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:28:32.838Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:28:32.839Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:28:32.872Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:28:32.874Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:28:32.874Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:28:32.874Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:28:32.877Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:16.031Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.100Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.200Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.203Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:16.203Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:29:16.207Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.214Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:16.251Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.279Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$wz6odpSAJhRXijbRPCJzguprOqKoQx2hpZXx9rMp4xeeJ2D8oBTby","tokenSeed":"332569e7b3d5d37662cd05be4314ed3d84d2b57d850716001ff925e4ffc5b67034828bcf79ec30b4694e9dd59805bac467dde054a6c098ef35e6a4e7b5a2e4c3","_id":"5a3b0e6cba70d717ba8dee55","created":"2017-12-21T01:29:16.275Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:29:16.283Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:16.325Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:16.392Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.392Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:16.392Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:16.394Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:16.426Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:16.428Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:29:16.428Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:29:16.429Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:16.431Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:17.416Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:17.469Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:17.519Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:17.525Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:29:17.525Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:29:17.529Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:17.534Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:17.534Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:17.534Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:17.536Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:17.539Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:37.601Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.672Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.762Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.763Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:37.763Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:29:37.765Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.771Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:29:37.805Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.837Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$B3s/rLLxotNeVV2Iyuv3..O9KG.3Rpg1bgqAke7D.bLf2ZAPw1ckS","tokenSeed":"8c227a043ffe9d726327ff5a835653b9b1c8968d22bc2ce67ce6177cd9a8b64a909ce6457dc8fc5fdf0e352890b60ed820c82e409ab1598e7dddeac04a1e2294","_id":"5a3b0e8102007c17ec8d4200","created":"2017-12-21T01:29:37.833Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:29:37.840Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:37.889Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:37.951Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.951Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:37.951Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:37.953Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:29:37.987Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:37.989Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:29:37.990Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:29:37.990Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:37.993Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:29:39.021Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:39.067Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:39.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:39.125Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:29:39.125Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:29:39.129Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:29:39.135Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:29:39.135Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:29:39.135Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:29:39.137Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:29:39.145Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:31:03.446Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:31:03.582Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:31:03.675Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:03.681Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:31:03.682Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:31:03.685Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:31:03.691Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:03.692Z"}
{"message":"__ERROR__ authorization header required","stack":"UnauthorizedError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"UnauthorizedError","level":"info","timestamp":"2017-12-21T01:31:03.692Z"}
{"level":"info","message":"Responding with a 401 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:31:03.694Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:31:03.697Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:31:04.458Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.475Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.523Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.524Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:31:04.524Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:31:04.525Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.531Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:31:04.564Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.591Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$7VkU7RSraIDgVernYVHT.Op0dMLKWlUBoRZMa1GNjWp.6hKzM406y","tokenSeed":"5355c9de969696eff0faad65780ddd50af8779ae67040bae2cc95b5916851ff18c49e2f7bb3d7785b767fa98826fe92eb0f5aac819ecf3cb87bc794fd00ac7e5","_id":"5a3b0ed83629ef18533fc316","created":"2017-12-21T01:31:04.589Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:31:04.593Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:31:04.631Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:31:04.696Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.696Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:31:04.696Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:31:04.698Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:31:04.734Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:31:04.736Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:31:04.736Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:31:04.736Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:31:04.739Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:35:55.876Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:35:56.083Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:35:56.174Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.180Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:35:56.181Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:35:56.187Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:35:56.227Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.228Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T01:35:56.229Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T01:35:56.235Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:35:56.242Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:35:56.791Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.808Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.861Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.862Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:35:56.862Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:35:56.864Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.870Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:35:56.900Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:56.926Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$jYVmyZbTmOSBbLbYot8mKOvb7AwDuor3sFOqjcWhDfwX6IgFui7Na","tokenSeed":"0bbd801c8f4a8e78bcfe9affcd4c2ec6572faf26c4d03dfd9d995dc1045a0bd1a43f5f827a78a4031361005eb7218a52b6f9d5e3463e2d377b9dadc2eac58dc6","_id":"5a3b0ffc5f6f63194fb0edb8","created":"2017-12-21T01:35:56.924Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:35:56.928Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:35:56.963Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:35:57.032Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:57.032Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:35:57.032Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:35:57.034Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:35:57.068Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:35:57.069Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:35:57.070Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:35:57.070Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:35:57.073Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:24.450Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:24.665Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:24.745Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:24.751Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:36:24.751Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:36:24.755Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:24.794Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:24.796Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T01:36:24.796Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T01:36:24.798Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:24.802Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:25.313Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.327Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.375Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.376Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:25.376Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:36:25.377Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.383Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:25.416Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.443Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$G/B.xEC1he99ntaKBL8TnuPNnXd/JjBnod/EeI799fRwNpHXsPwrW","tokenSeed":"15324a6c9db6a7ad82e1091b30f0ace49cdddaa89bc878af0b560cd3edc08bfcf20e23c140c408e3a782af199c343fb8b6b415d17ed090b5cd8ea8248ff78280","_id":"5a3b10193f38c719885feb4a","created":"2017-12-21T01:36:25.441Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:36:25.445Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:25.479Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:25.551Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.551Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:25.551Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:36:25.553Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:25.588Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:25.590Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:36:25.590Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:36:25.591Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:25.593Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:58.467Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:58.667Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:58.754Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:58.761Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:36:58.761Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:36:58.765Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:36:58.773Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:58.774Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T01:36:58.774Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T01:36:58.777Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:58.780Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:36:59.356Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.370Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.418Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.418Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:59.419Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:36:59.420Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.425Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:36:59.461Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.491Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$e8O16fW/WFhbQXsSZesrYec6x0VwzzYtQgFHR2plmh4AGjrt1ijJi","tokenSeed":"49e68dd54ffa48c2d105beed2f24f5c5d839ddf6a971da9f4eb75dbf705ea9368943fe2c0ef00cfd63087dca83a539500df62b4ac1f4f7a251367c48415a58e4","_id":"5a3b103bbf71ed19bf6858c9","created":"2017-12-21T01:36:59.488Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:36:59.493Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:59.536Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:59.603Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.603Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:36:59.603Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:36:59.605Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:36:59.639Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:36:59.641Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:36:59.641Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:36:59.641Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:36:59.644Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:41:15.770Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:41:15.930Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:41:16.020Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.027Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:41:16.027Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:41:16.032Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:41:16.038Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.045Z"}
{"message":"Cannot read property 'tokenSeed' of undefined","stack":"TypeError: Cannot read property 'tokenSeed' of undefined\n    at promisify.catch.then.decryptedData (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:35:55)\n    at <anonymous>\n    at runMicrotasksCallback (internal/process/next_tick.js:121:5)\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-21T01:41:16.045Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-21T01:41:16.045Z"}
{"message":"Cannot read property 'tokenSeed' of undefined","stack":"TypeError: Cannot read property 'tokenSeed' of undefined\n    at promisify.catch.then.decryptedData (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:35:55)\n    at <anonymous>\n    at runMicrotasksCallback (internal/process/next_tick.js:121:5)\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-21T01:41:16.045Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:41:16.046Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:41:16.721Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.736Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.780Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.781Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:41:16.781Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:41:16.782Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.788Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:41:16.821Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.846Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$M6r8As5iaBDs/aAlEpVo9eG4oXmMpcZPm8A35HqC2DWKPowor1SmW","tokenSeed":"4f985778c199e9e78eb7c7d05cc4471bed8affada0e2c5e0c44b09c52c2f561f103fee97f4a8bd33a4df6fcb1177aac4c4b2bc8c53271cbfd21f30decfc1d768","_id":"5a3b113c1ccf001a9eb357ba","created":"2017-12-21T01:41:16.844Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:41:16.848Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:41:16.884Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:41:16.958Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.958Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:41:16.958Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:41:16.960Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:41:16.997Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:41:16.999Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:41:16.999Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:41:16.999Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:41:17.002Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:44:34.243Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:44:34.388Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:44:34.482Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:34.573Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:44:34.573Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:44:34.581Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:44:34.593Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:34.594Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T01:44:34.595Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T01:44:34.597Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:44:34.601Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:44:35.177Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.189Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.235Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.236Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:44:35.236Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:44:35.237Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.242Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:44:35.274Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.307Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$ZogXF3fvzi1iOmpTygmxielmdxL2pbFkZcqjsRPbGkCVlHyJpctAa","tokenSeed":"18d4d50d6e9535f3f9b9d42efc0c12a38ff3d5eafecbeb4ef3116be3f9451de692f1677c1dbf766d45a6f0759e35a998bd57280e2f2717b487a22f1ca81de453","_id":"5a3b12033800471b32224572","created":"2017-12-21T01:44:35.303Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:44:35.310Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:44:35.354Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:44:35.428Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.428Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:44:35.428Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:44:35.430Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:44:35.469Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:44:35.471Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:44:35.471Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:44:35.471Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:44:35.474Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:46:10.892Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:46:11.066Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:46:11.157Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.169Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T01:46:11.169Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T01:46:11.174Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T01:46:11.181Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.182Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T01:46:11.183Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T01:46:11.187Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:46:11.192Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T01:46:11.858Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.872Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.927Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.928Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:46:11.928Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T01:46:11.929Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.935Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T01:46:11.968Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:11.995Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$werKKA0lxX8sJpiWuJ74he/NiT2IrQ8p/zwG82Z6ziAB/erLq0raW","tokenSeed":"1222f6285b86a612987f941dd89af3c9c7b474600292cba169149400098ff8a8c2c2f855efc6e303323604f9b47479d186a67fe0b7319e4054b954ee1e7c7720","_id":"5a3b1263a024c91ba7eadd3e","created":"2017-12-21T01:46:11.993Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T01:46:11.997Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:46:12.041Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:46:12.112Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:12.113Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T01:46:12.113Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T01:46:12.115Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T01:46:12.150Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T01:46:12.152Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T01:46:12.152Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T01:46:12.152Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T01:46:12.155Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:10:09.458Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.594Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.709Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.712Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:09.712Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:10:09.715Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.722Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:09.754Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.782Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$fNdF.9lz0KgC9MDBlxtPaOBSgdajuCZ5xiL5unjYy6yMVU2FGGVCi","tokenSeed":"4f077f979eb3e072a88bab2503f214daabdb6884a15050b9f8467686b296f5d60afb3511318d3d00c367b4961937bb487cae820a520102d511af7c734812b58c","_id":"5a3b180146b5921f6cca7c8d","created":"2017-12-21T02:10:09.779Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:10:09.784Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:09.825Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:09.891Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.892Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:09.892Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:10:09.894Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:09.929Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:09.932Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:10:09.932Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:10:09.932Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:10:09.935Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:10:52.785Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:52.857Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:52.971Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:52.973Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:52.973Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:10:52.975Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:52.981Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:10:53.017Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:53.044Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$s1S0SnNZIh/DE4p9Ee3NZelu/shF3/fRuP1kUC.tLSCS8IrxuZXh2","tokenSeed":"5de422dd65971b5eda072ba504fbd681dcbbb799046c27ddd8742f7466e488e824de3bbd7f66470df155dbd29800dcabd29508045acd6f0e649bfcc83c3ec9c2","_id":"5a3b182dcd6ab41fb0108fb0","created":"2017-12-21T02:10:53.040Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:10:53.047Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:53.091Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:53.162Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:53.162Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:10:53.163Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:10:53.165Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:10:53.197Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:53.199Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:10:53.199Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:10:53.199Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:10:53.202Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:10:54.194Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:10:54.256Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:10:54.315Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:54.321Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:10:54.321Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:10:54.325Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:10:54.331Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:10:54.332Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:10:54.332Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:10:54.335Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:10:54.343Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:11:26.001Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:11:26.217Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:11:26.300Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:26.307Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:11:26.307Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:11:26.312Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:11:26.319Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:26.320Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:11:26.320Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:11:26.322Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b184e51734b1fe22b0e63","timestamp":"2017-12-21T02:11:26.360Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-21T02:11:26.361Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:11:26.365Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:11:26.919Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:26.937Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:26.989Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:26.990Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:11:26.990Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:11:26.992Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:26.997Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:11:27.033Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:27.061Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$yJW69OimZwb5q2O8OvQoX.Mr2.O1qJGYRNUD6de4SHWSuN9IxSm/m","tokenSeed":"822bae8d03f69bc07b7cb08824972d51f4e33180dbec3b43291636a81ce3fefb5873396db94f77c3d310e6a425ac3243d47c4ec658eb945a177d8d85d3af6247","_id":"5a3b184fe0af701fe23efcd6","created":"2017-12-21T02:11:27.058Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:11:27.063Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:11:27.100Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:11:27.166Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:27.166Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:11:27.166Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:11:27.168Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:11:27.202Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:11:27.204Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:11:27.204Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:11:27.205Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:11:27.207Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:18:19.480Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:18:19.686Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:18:19.769Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:19.776Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:18:19.776Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:18:19.780Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:18:19.786Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:19.787Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:18:19.787Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:18:19.789Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b19ebaba381214169c666","timestamp":"2017-12-21T02:18:19.831Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-21T02:18:19.831Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:18:19.837Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:18:20.361Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.378Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.429Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.430Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:18:20.430Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:18:20.431Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.436Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:18:20.468Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.498Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$/inHiNG/DOeBtyXpvgYBt.7NLWFxU03YzyoIAkTkEmSjYpos0fIHa","tokenSeed":"63571eac08826226e192824309af2893a94ba45f75942853249e295c5bfb61e98265cf522b3cebcf245ba18eff0f970a394d90519c206d44555ca8de63e48a31","_id":"5a3b19ecfcfd90214186b581","created":"2017-12-21T02:18:20.494Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:18:20.500Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:18:20.540Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:18:20.601Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.602Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:18:20.602Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:18:20.604Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:18:20.637Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:18:20.639Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:18:20.639Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:18:20.639Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:18:20.642Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:35:51.631Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:35:51.754Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:35:51.845Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:51.851Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:35:51.851Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:35:51.854Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:35:51.861Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:51.863Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:35:51.863Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:35:51.865Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b1e078e68ec245facd130","timestamp":"2017-12-21T02:35:51.900Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:35:51.908Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:35:52.555Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.569Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.618Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.619Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:35:52.619Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:35:52.620Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.626Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:35:52.658Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.685Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$CPvWqVOzYZEMPkcpuC8WMOFteI3fujxSgw3hMyuT4J42nk1arycqy","tokenSeed":"9a6069cdf8b0077ae89cc3ba63aa9476ece73787ad5c7bec78acb48b21913d14ed57faafc730813bf07b9e0e40b1554f29000685dea0b37a80b828a8a8966a47","_id":"5a3b1e08c6dd33245f3bdbb4","created":"2017-12-21T02:35:52.682Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:35:52.689Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:35:52.728Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:35:52.793Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.793Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:35:52.794Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:35:52.796Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:35:52.829Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:35:52.831Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:35:52.831Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:35:52.831Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:35:52.833Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:44:47.960Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:44:48.089Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:44:48.169Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:48.176Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:44:48.176Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:44:48.179Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:44:48.185Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:48.186Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:44:48.186Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:44:48.188Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2020fafe662619de7585","timestamp":"2017-12-21T02:44:48.227Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:44:48.238Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:44:48.918Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:48.935Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:48.991Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:48.993Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:44:48.993Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:44:48.996Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:49.003Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:44:49.038Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:49.069Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$drwP1WbPxzR5sOglriZlT.q4Jk.RWIrZEc8lQSVt26B8ox4iYM7j.","tokenSeed":"67ccd80cc2e375f0cb79494f6a19b20d5c7c75325791e590f4a74cd8f47a46ec2e5eaf9baeb2b312e0ebdaef2e93aa4ed58ea1d6eb382a61aa1c8d605da9efdc","_id":"5a3b20211c9a862619ff600a","created":"2017-12-21T02:44:49.067Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:44:49.071Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:44:49.107Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:44:49.172Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:49.173Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:44:49.173Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:44:49.175Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:44:49.209Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:44:49.211Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:44:49.211Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:44:49.211Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:44:49.214Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:52:56.734Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:52:56.956Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:52:57.039Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.046Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:52:57.046Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:52:57.050Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:52:57.056Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.057Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:52:57.058Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:52:57.060Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2209a14f1027aa9f2885","timestamp":"2017-12-21T02:52:57.101Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2209a14f1027aa9f2887","timestamp":"2017-12-21T02:52:57.144Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.145Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:52:57.145Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:52:57.147Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:52:57.151Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:52:57.696Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.709Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.756Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.757Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:52:57.757Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:52:57.758Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.764Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:52:57.803Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.833Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$lvBS7dj6rxViPFUUWnPeB.ON.bWATZIpWHSf2zMlSy5bTCUQTgOgu","tokenSeed":"419af0d28210454870923d39931bc063523c4595dc261b10f04c55bd38c4c4d0f0248e831ab595a620ae8ccc2bd381ac079340b21bfadded7d2b70b3530932fe","_id":"5a3b220905006627aa5ba525","created":"2017-12-21T02:52:57.829Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:52:57.835Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:52:57.870Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:52:57.931Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.931Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:52:57.932Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:52:57.933Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:52:57.966Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:52:57.969Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:52:57.969Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:52:57.969Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:52:57.973Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:24.107Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:24.333Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:24.417Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.424Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:54:24.424Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:54:24.428Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:24.435Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.436Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:54:24.437Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:54:24.439Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2260883736281dc6ef9c","timestamp":"2017-12-21T02:54:24.479Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b2260883736281dc6ef9e","timestamp":"2017-12-21T02:54:24.521Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.522Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:24.522Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:24.523Z"}
{"level":"info","message":"Processing : GET on : /profiles/badId","timestamp":"2017-12-21T02:54:24.559Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:24.563Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T02:54:24.563Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T02:54:24.564Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:24.571Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:25.127Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.142Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.187Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.189Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:25.189Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:54:25.190Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.196Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:25.229Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.256Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$/nob40uMyxA8cMUTxMEaIeNutdLAiZuXw2ELpfeGE4UcDw5lDE95m","tokenSeed":"6b1a960c2c5000d773fda4c1bf8e61f3ae12587bcda77ac958fe3fb438ffb661f8f94faecb4b35d1c02c582b940c0c3567c6a9474b42a1edebd31469cfda0060","_id":"5a3b2261d69505281d8449ec","created":"2017-12-21T02:54:25.253Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:54:25.260Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:25.296Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:25.358Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.359Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:25.359Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:25.361Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:25.394Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:25.396Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:54:25.396Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:54:25.397Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:25.399Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:49.789Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:49.919Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:50.008Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.014Z"}
{"message":"profile validation failed: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","errors":{"bio":{"message":"Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"String","value":{"bio":4},"path":"bio","reason":{"message":"Cast to string failed for value \"{ bio: 4 }\" at path \"bio\"","name":"CastError","stringValue":"\"{ bio: 4 }\"","kind":"string","value":{"bio":4},"path":"bio"}}},"_message":"profile validation failed","stack":"ValidationError: bio: Cast to String failed for value \"{ bio: 4 }\" at path \"bio\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.profileRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/profile-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T02:54:50.014Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T02:54:50.019Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-21T02:54:50.025Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.027Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T02:54:50.027Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T02:54:50.029Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b227a842184284834bf6f","timestamp":"2017-12-21T02:54:50.073Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a3b227a842184284834bf71","timestamp":"2017-12-21T02:54:50.114Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.115Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:50.116Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:50.117Z"}
{"level":"info","message":"Processing : GET on : /profiles/badId","timestamp":"2017-12-21T02:54:50.151Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.154Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"profile\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T02:54:50.154Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T02:54:50.155Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:50.159Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T02:54:50.767Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.781Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.830Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.831Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:50.832Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T02:54:50.833Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.839Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T02:54:50.869Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.895Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$vGYvFt/sGCPb81VpGzj7muhGn8zk464/aK0dDGUcj597pWVCIpMEq","tokenSeed":"779673498f4577648a26d12b9e1fce1d3fabdcaaaaa74df5dd36ecdf055bebf3a06775f45dcaa8be4f7e927bc086eebacb97bd3b6d46125eabd4adbc0e25c6f2","_id":"5a3b227a68e78e284893b45a","created":"2017-12-21T02:54:50.893Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T02:54:50.897Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:50.935Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:50.999Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:50.999Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T02:54:50.999Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T02:54:51.001Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T02:54:51.033Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T02:54:51.035Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T02:54:51.036Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T02:54:51.036Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T02:54:51.039Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T05:51:18.848Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T05:51:19.071Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T05:51:19.160Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:19.167Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T05:51:19.167Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T05:51:19.171Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T05:51:19.178Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:19.179Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T05:51:19.179Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T05:51:19.181Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3b4bd71ed77e2e8daefff5","timestamp":"2017-12-21T05:51:19.222Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3b4bd71ed77e2e8daefff7","timestamp":"2017-12-21T05:51:19.264Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:19.265Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T05:51:19.265Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T05:51:19.266Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T05:51:19.302Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:19.305Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T05:51:19.305Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T05:51:19.306Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T05:51:19.309Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T05:51:19.873Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T05:51:19.885Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T05:51:19.933Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:19.934Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T05:51:19.934Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T05:51:19.936Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T05:51:19.942Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T05:51:19.976Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:20.004Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$9bizybPrfX1NEGzO.c5KdOy7.RaKfji2QrY5HBjX92we8QAxmGste","tokenSeed":"d2a349e2598a617c45a7bae45e08885e69799993aad48352b57b23051418dd3cc2880e7f71391b361e54f224aaf17025031b36a5f5d606ce0acfdc96069db598","_id":"5a3b4bd80682c62e8d2fa0b5","created":"2017-12-21T05:51:20.002Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T05:51:20.007Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T05:51:20.044Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T05:51:20.115Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:20.115Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T05:51:20.115Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T05:51:20.117Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T05:51:20.153Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T05:51:20.155Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T05:51:20.156Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T05:51:20.156Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T05:51:20.160Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T06:36:43.416Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T06:37:12.740Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T06:37:55.330Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T07:43:36.655Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T07:43:36.814Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T07:43:36.914Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:36.923Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T07:43:36.923Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T07:43:36.927Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T07:43:36.937Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:36.939Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T07:43:36.939Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T07:43:36.942Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3b66286302453e48c36f2f","timestamp":"2017-12-21T07:43:36.982Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3b66296302453e48c36f31","timestamp":"2017-12-21T07:43:37.028Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:37.029Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T07:43:37.029Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T07:43:37.030Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T07:43:37.070Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:37.073Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T07:43:37.073Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T07:43:37.075Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T07:43:37.079Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T07:43:37.790Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T07:43:37.811Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T07:43:37.868Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:37.869Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T07:43:37.869Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T07:43:37.871Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T07:43:37.876Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T07:43:37.915Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:37.943Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$QZy3q.D3woB4B9FfXcCXDuYhwjh.50sL99sugKSHQsnrJTTVPMzVa","tokenSeed":"0337130bfac55b514ccb606a4b0627c17a1a74dac47c259875ab6ee8e8a63e5c09ffdb3ae5f63fb5fb0166662c76d743d31fb7242c93ba0b05c4646546d04bd3","_id":"5a3b66299435333e485bce6a","created":"2017-12-21T07:43:37.941Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T07:43:37.946Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T07:43:37.986Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T07:43:38.054Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:38.055Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T07:43:38.055Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T07:43:38.057Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T07:43:38.092Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T07:43:38.095Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T07:43:38.095Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T07:43:38.095Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T07:43:38.099Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:12:29.945Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:12:52.571Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-21T23:12:52.765Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:12:53.022Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:12:53.750Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:12:53.803Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:12:53.883Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:53.896Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T23:12:53.896Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T23:12:53.901Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:12:53.907Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:53.909Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T23:12:53.910Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T23:12:53.912Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c3ff584543a52a9eae976","timestamp":"2017-12-21T23:12:53.956Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c3ff684543a52a9eae978","timestamp":"2017-12-21T23:12:54.008Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:54.010Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:12:54.011Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:12:54.013Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T23:12:54.051Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:54.053Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T23:12:54.053Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T23:12:54.055Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:12:54.058Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:12:54.872Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:12:55.070Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:12:55.134Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:55.136Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:12:55.136Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T23:12:55.138Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:12:55.146Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:12:55.184Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:55.217Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$zclby/Qyr52br/OXz2VO6OYHQKLih/TWko43x3vSwd9X6KzRBu/Va","tokenSeed":"85a83da53409cbc38264fa3c6bde632844b64203337f8183bc053480475454cb8adf89c3f31beae5a5516de6e48a80401b94ec169f5cbed4690793eb919cbdc9","_id":"5a3c3ff7bd07d552a92b4c47","created":"2017-12-21T23:12:55.211Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T23:12:55.219Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:12:55.259Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:12:55.337Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:55.337Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:12:55.338Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:12:55.341Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:12:55.383Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:12:55.386Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T23:12:55.386Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T23:12:55.386Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:12:55.389Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T23:21:03.082Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-21T23:21:03.272Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:21:03.461Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T23:21:04.496Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:21:04.521Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:21:04.608Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:04.612Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:21:04.612Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T23:21:04.614Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:21:04.621Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:21:04.655Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:04.683Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$2X7B0PtZLgk2W7VBrGtN9OA.yVFi7OCZ3w9DWrXLMWBUKveShHdQS","tokenSeed":"e3763b167faf5b2332f5a00f08145e44b290f0c245159cc0294ea62e05977575c4810ebdc184e257017e94ba5b300833a823712aff456e8111fa972784bfac34","_id":"5a3c41e04868cc54c5f91e69","created":"2017-12-21T23:21:04.680Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T23:21:04.686Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:21:04.722Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:21:04.798Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:04.799Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:21:04.799Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:21:04.803Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:21:04.839Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:04.841Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T23:21:04.841Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T23:21:04.841Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:21:04.844Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T23:21:05.619Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:21:05.822Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:21:05.876Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:05.885Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T23:21:05.885Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T23:21:05.889Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:21:05.894Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:05.896Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T23:21:05.896Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T23:21:05.900Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c41e1ae71f254c5d8bb76","timestamp":"2017-12-21T23:21:05.943Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c41e1ae71f254c5d8bb78","timestamp":"2017-12-21T23:21:05.994Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:05.995Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:21:05.995Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:21:05.997Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T23:21:06.035Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:21:06.038Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T23:21:06.038Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T23:21:06.039Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:21:06.042Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T23:33:32.790Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-21T23:33:32.980Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:33:33.188Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T23:33:34.055Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:33:34.072Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:33:34.147Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:34.150Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:33:34.150Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T23:33:34.151Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:33:34.157Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:33:34.191Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:34.222Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$iAMHB5CgkKCSm6L25knmVelbyXcc/OPdQGgogo3/N0ia2YJcH8iGq","tokenSeed":"9165ebb397ae09ba1ae66da3ae52ab7a80e53106724c07d67d8f73115280a6d6add9a9544b160224ee403cd183a71337aac5029c7b9fe89e06ac1ed341429aca","_id":"5a3c44cea453a1576c7b8b3e","created":"2017-12-21T23:33:34.219Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T23:33:34.224Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:33:34.259Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:33:34.325Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:34.326Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:33:34.326Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:33:34.328Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:33:34.361Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:34.363Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T23:33:34.363Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T23:33:34.363Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:33:34.366Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T23:33:35.088Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:33:35.286Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:33:35.342Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:35.348Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T23:33:35.348Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T23:33:35.353Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:33:35.358Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:35.359Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T23:33:35.359Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T23:33:35.362Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c44cf778dbe576c067e68","timestamp":"2017-12-21T23:33:35.409Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c44cf778dbe576c067e6a","timestamp":"2017-12-21T23:33:35.458Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:35.459Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:33:35.459Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:33:35.460Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T23:33:35.495Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:33:35.498Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T23:33:35.498Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T23:33:35.500Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:33:35.504Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:35:21.989Z"}
{"level":"error","message":"__SERVER_ERROR__ server is already off","timestamp":"2017-12-21T23:35:32.020Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:35:33.140Z"}
{"level":"error","message":"__SERVER_ERROR__ server is already off","timestamp":"2017-12-21T23:36:18.205Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:36:19.795Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:37:05.141Z"}
{"level":"error","message":"__SERVER_ERROR__ server is already off","timestamp":"2017-12-21T23:37:15.167Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:37:16.164Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:37:59.835Z"}
{"level":"error","message":"__SERVER_ERROR__ server is already off","timestamp":"2017-12-21T23:38:09.865Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:38:10.681Z"}
{"level":"error","message":"__SERVER_ERROR__ server is already off","timestamp":"2017-12-21T23:38:55.747Z"}
{"level":"error","message":"__SERVER_ERROR__ PORT variable is not configured","timestamp":"2017-12-21T23:38:57.506Z"}
{"level":"error","message":"__SERVER_ERROR__ server is already off","timestamp":"2017-12-21T23:39:52.553Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:41:34.034Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:41:34.182Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:41:34.275Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:34.283Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T23:41:34.283Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T23:41:34.288Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:41:34.296Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:34.298Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T23:41:34.298Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T23:41:34.301Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c46aebdc11959ee93ffc0","timestamp":"2017-12-21T23:41:34.341Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c46aebdc11959ee93ffc2","timestamp":"2017-12-21T23:41:34.386Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:34.386Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:41:34.387Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:41:34.388Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T23:41:34.425Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:34.428Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T23:41:34.428Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T23:41:34.430Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:41:34.434Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:41:35.134Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:41:35.149Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:41:35.195Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:35.196Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:41:35.196Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T23:41:35.199Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:41:35.206Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:41:35.241Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:35.272Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$NawrRIjXROnhcJe2.QNoheosMUbFv/.mMmJCPqbenF1x.FxNKmLSC","tokenSeed":"7ac8bee6f762bc1022faade9db11b6445f583cae740f0d8af49e35b64b48cb790a7341110f78cebb379a8ade40862bfee6185491fc7ef33b923644087caae790","_id":"5a3c46aff3583659ee801b43","created":"2017-12-21T23:41:35.269Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T23:41:35.275Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:41:35.317Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:41:35.382Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:35.383Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:41:35.383Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:41:35.385Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:41:35.421Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:35.423Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T23:41:35.423Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T23:41:35.423Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:41:35.426Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:41:36.205Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-21T23:41:36.426Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:41:41.726Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-21T23:41:41.713Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-21T23:41:41.712Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-21T23:41:41.711Z","retryable":true}},"level":"info","timestamp":"2017-12-21T23:41:41.726Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-21T23:41:41.728Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-21T23:41:41.713Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-21T23:41:41.712Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-21T23:41:41.711Z","retryable":true}},"level":"info","timestamp":"2017-12-21T23:41:41.728Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:41:41.730Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:56:51.776Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-21T23:56:51.932Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:57.039Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-21T23:56:57.029Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-21T23:56:57.029Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-21T23:56:57.028Z","retryable":true}},"level":"info","timestamp":"2017-12-21T23:56:57.039Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-21T23:56:57.040Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-21T23:56:57.029Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-21T23:56:57.029Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-21T23:56:57.028Z","retryable":true}},"level":"info","timestamp":"2017-12-21T23:56:57.040Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:56:57.044Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:56:57.797Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:56:57.856Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:56:57.953Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:57.962Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-21T23:56:57.962Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-21T23:56:57.972Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-21T23:56:57.978Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:57.979Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-21T23:56:57.979Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-21T23:56:57.983Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4a4a90d0c25abdf20b3b","timestamp":"2017-12-21T23:56:58.026Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4a4a90d0c25abdf20b3d","timestamp":"2017-12-21T23:56:58.075Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:58.076Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:56:58.076Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:56:58.077Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-21T23:56:58.118Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:58.121Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-21T23:56:58.121Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T23:56:58.123Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:56:58.126Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-21T23:56:58.878Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:56:59.044Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:56:59.091Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:59.092Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:56:59.092Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-21T23:56:59.094Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:56:59.100Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T23:56:59.138Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:59.165Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$MEQkLREm5d0YEyNHSIYOxOLcQGEMpwKqoaDmEBWlTXF8xJnB6ECj.","tokenSeed":"3bb74cb4b30e916b334a2559da877b6340ee9c96fac11a8ce9960bb82c5e25321a20e723f955e9005857fe34b80a2579f112ae147cb69288e791048991b00b88","_id":"5a3c4a4be48ef15abde3b38c","created":"2017-12-21T23:56:59.162Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-21T23:56:59.168Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:56:59.212Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:56:59.276Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:59.277Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T23:56:59.277Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-21T23:56:59.278Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T23:56:59.312Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T23:56:59.314Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T23:56:59.314Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-21T23:56:59.314Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-21T23:56:59.317Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:02:50.261Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:02:50.418Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:55.766Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:02:55.757Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:02:55.756Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:02:55.756Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:02:55.766Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:02:55.768Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:02:55.757Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:02:55.756Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:02:55.756Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:02:55.768Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:02:55.772Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:02:56.491Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:02:56.508Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:02:56.590Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:56.592Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:02:56.592Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:02:56.595Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:02:56.600Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:02:56.634Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:56.662Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$HVtdBEBwoszrYhPZ7BcSteOdElT3nvrr2wFCKnkwFwdRNHkrEq6DK","tokenSeed":"64fc612d226aa330a30fe8edd64c27318d6a818422f8b4f6c80fdd8ba709b2489e45efc3e1b5cba445e6cb6ab282ea5a65b5c15d2dff33a1b82c041c33a9be40","_id":"5a3c4bb00ad4505c4024332d","created":"2017-12-22T00:02:56.660Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:02:56.664Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:02:56.700Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:02:56.766Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:56.767Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:02:56.767Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:02:56.769Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:02:56.804Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:56.808Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:02:56.808Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:02:56.808Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:02:56.813Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:02:57.480Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:02:57.534Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:02:57.584Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:57.590Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:02:57.590Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:02:57.600Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:02:57.606Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:57.606Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:02:57.607Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:02:57.611Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4bb145b1625c4014208c","timestamp":"2017-12-22T00:02:57.653Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4bb145b1625c4014208e","timestamp":"2017-12-22T00:02:57.701Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:57.702Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:02:57.702Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:02:57.704Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:02:57.748Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:02:57.751Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:02:57.751Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:02:57.754Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:02:57.758Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:03:21.867Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:03:22.105Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:22.271Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:03:22.262Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:03:22.262Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:58780)"}},"level":"info","timestamp":"2017-12-22T00:03:22.271Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:03:22.271Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:03:22.262Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:03:22.262Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:58780)"}},"level":"info","timestamp":"2017-12-22T00:03:22.271Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:03:22.377Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:03:23.141Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:03:23.159Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:03:23.234Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:23.236Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:03:23.236Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:03:23.238Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:03:23.243Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:03:23.277Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:23.305Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$pgf4qVuLfP7v7zfKTBmr1.mjy.0Bfy2r7ptf090erBqFetdqaReLW","tokenSeed":"f4e03287b7195bae89369fe5631139591b244fdf7b797baf9dc7390c7ee00796b76528911552b63474c1e98bbe77757ebabab2435c7ab39683faf31e85806047","_id":"5a3c4bcb89e87b5c6290433e","created":"2017-12-22T00:03:23.303Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:03:23.314Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:03:23.355Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:03:23.422Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:23.422Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:03:23.422Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:03:23.424Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:03:23.459Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:23.462Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:03:23.462Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:03:23.462Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:03:23.467Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:03:24.267Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:03:24.337Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:03:24.391Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:24.398Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:03:24.399Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:03:24.404Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:03:24.411Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:24.413Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:03:24.413Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:03:24.417Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4bccea194d5c62c38b71","timestamp":"2017-12-22T00:03:24.457Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4bccea194d5c62c38b73","timestamp":"2017-12-22T00:03:24.506Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:24.506Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:03:24.506Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:03:24.508Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:03:24.552Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:03:24.555Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:03:24.555Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:03:24.557Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:03:24.560Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:07:18.508Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:07:18.736Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:23.679Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:07:23.669Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:07:23.669Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:07:23.669Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:07:23.679Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:07:23.681Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:07:23.669Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:07:23.669Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:07:23.669Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:07:23.681Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:07:23.684Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:07:24.377Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:07:24.429Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:07:24.502Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:24.509Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:07:24.509Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:07:24.513Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:07:24.520Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:24.521Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:07:24.521Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:07:24.523Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4cbc6971815e57c797a3","timestamp":"2017-12-22T00:07:24.561Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4cbc6971815e57c797a5","timestamp":"2017-12-22T00:07:24.603Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:24.604Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:07:24.604Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:07:24.606Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:07:24.644Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:24.647Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:07:24.648Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:07:24.649Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:07:24.653Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:07:25.412Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:07:25.426Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:07:25.473Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:25.474Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:07:25.474Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:07:25.476Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:07:25.481Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:07:25.513Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:25.541Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$3cNf5do/eDqAaZ.eUwFKtOnvRMeOV/fIGyJBuzEXNeEpAJ3.5cOR2","tokenSeed":"d413f2e4961e8b45f150f8a39e56b7380b58f4afc1f70a75396970802441d7bc7483ea993259a28c2e56420107e5b9200fcc2ca7b3eefb61a5ead2d9a189500d","_id":"5a3c4cbd485c025e578b966e","created":"2017-12-22T00:07:25.537Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:07:25.543Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:07:25.581Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:07:25.651Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:25.652Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:07:25.652Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:07:25.654Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:07:25.687Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:07:25.689Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:07:25.689Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:07:25.689Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:07:25.692Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:08:32.945Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:08:33.099Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:38.087Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:08:38.077Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:08:38.077Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:08:38.076Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:08:38.087Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:08:38.089Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:08:38.077Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:08:38.077Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:08:38.076Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:08:38.089Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:08:38.093Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:08:38.864Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:38.881Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:38.970Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:38.972Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:08:38.972Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:08:38.974Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:38.982Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:39.020Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:39.048Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$bk8eacL4O58L0AXkD9P8ReM9sqStYR8yUIAyjc/VrecG4TjaRZ4pK","tokenSeed":"3e9b08994eaa76f20d4a2eddadad973d3ec5e2b57e24e5ccabfa9f73c737e2fa48b13a2c7996777b6b91b239881dbd94819fa32745394c54c0c2153c74e265a2","_id":"5a3c4d0708851a5e94ca92bd","created":"2017-12-22T00:08:39.045Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:08:39.052Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:08:39.089Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:08:39.156Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:39.157Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:08:39.157Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:08:39.159Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:08:39.192Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:39.194Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:08:39.194Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:08:39.195Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:08:39.198Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:08:39.892Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:08:40.078Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:08:40.131Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:40.137Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:08:40.137Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:08:40.142Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:08:40.148Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:40.148Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:08:40.148Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:08:40.151Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4d0843cd795e9493f4fc","timestamp":"2017-12-22T00:08:40.191Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4d0843cd795e9493f4fe","timestamp":"2017-12-22T00:08:40.237Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:40.237Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:08:40.238Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:08:40.239Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:08:40.276Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:40.279Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:08:40.280Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:08:40.284Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:08:40.288Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:08:57.930Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:08:58.075Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:58.126Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:08:58.118Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:08:58.118Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:59263)"}},"level":"info","timestamp":"2017-12-22T00:08:58.126Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:08:58.126Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:08:58.118Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:08:58.118Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:59263)"}},"level":"info","timestamp":"2017-12-22T00:08:58.126Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:08:58.139Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:08:58.828Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:08:58.882Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:08:58.948Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:58.954Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:08:58.954Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:08:58.959Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:08:58.964Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:58.965Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:08:58.965Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:08:58.967Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4d1b2e97915ed05325e3","timestamp":"2017-12-22T00:08:59.007Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4d1b2e97915ed05325e5","timestamp":"2017-12-22T00:08:59.049Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:59.049Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:08:59.050Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:08:59.051Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:08:59.087Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:59.094Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:08:59.094Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:08:59.096Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:08:59.099Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:08:59.861Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:59.876Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:59.922Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:59.923Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:08:59.923Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:08:59.925Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:59.931Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:08:59.963Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:08:59.991Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$WeHQJHXyOJF4c2Nt0sUc0O6C.PrQZVYsHKYnbVbtO0uTGZctd4d5G","tokenSeed":"91731e487312bf0bf961f4b2478587e46a4d927636ad0e189cde10d324478d80129c532d8d2402d878fd9f0bf8840787971279b2052e9644159a486a7b308183","_id":"5a3c4d1bc3aa545ed002b321","created":"2017-12-22T00:08:59.988Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:08:59.993Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:09:00.030Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:09:00.096Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:09:00.096Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:09:00.096Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:09:00.098Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:09:00.132Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:09:00.134Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:09:00.135Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:09:00.135Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:09:00.137Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:10:03.414Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:10:03.562Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:08.816Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:10:08.805Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:10:08.805Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:10:08.804Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:10:08.816Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:10:08.817Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:10:08.805Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:10:08.805Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:10:08.804Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:10:08.817Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:10:08.821Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:10:09.489Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:10:09.505Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:10:09.582Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:09.583Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:10:09.583Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:10:09.586Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:10:09.592Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:10:09.630Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:09.659Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$08$TzWKV0mnsE0gfbhzjr4dze/5Q.LKw7qe/idyalv/QZLFIv0O9v9IO","tokenSeed":"9bde15b4afa3e4c3ef6f3491b1f535cb8e52f153c5b3219838d4d1252796649c189a13bc630c1c1d858e27df3e8d807d5dade82f72a86012242170d91d8baa31","_id":"5a3c4d61c9da9d5f26c8fbbc","created":"2017-12-22T00:10:09.657Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:10:09.661Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:10:09.697Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:10:09.764Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:09.764Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:10:09.764Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:10:09.766Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:10:09.802Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:09.804Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:10:09.804Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:10:09.804Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:10:09.808Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:10:10.610Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:10:10.661Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:10:10.715Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:10.721Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:10:10.721Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:10:10.730Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:10:10.735Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:10.736Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:10:10.736Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:10:10.738Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4d6220f21f5f268eaed8","timestamp":"2017-12-22T00:10:10.778Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4d6220f21f5f268eaeda","timestamp":"2017-12-22T00:10:10.823Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:10.824Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:10:10.824Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:10:10.825Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:10:10.865Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:10:10.868Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:10:10.868Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:10:10.877Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:10:10.881Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:11:18.938Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:11:19.160Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:23.856Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:11:23.846Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:11:23.845Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:11:23.844Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:11:23.856Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:11:23.858Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:11:23.846Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:11:23.845Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:11:23.844Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:11:23.858Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:11:23.873Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:11:24.577Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:11:24.605Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:11:24.653Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:24.663Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:11:24.663Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:11:24.671Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:11:24.679Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:24.680Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:11:24.680Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:11:24.684Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4dac7cce255f9036d677","timestamp":"2017-12-22T00:11:24.706Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4dac7cce255f9036d679","timestamp":"2017-12-22T00:11:24.734Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:24.735Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:11:24.735Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:11:24.737Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:11:24.753Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:24.756Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:11:24.756Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:11:24.757Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:11:24.761Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:11:25.636Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:11:25.652Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:11:25.677Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:25.678Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:11:25.679Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:11:25.682Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:11:25.690Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:11:25.703Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:25.708Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$4mMV0Cp2SDUHppmtd5lFk.F0SdnuzWq1Eube4Dx6kWvBGVop4eo2W","tokenSeed":"38ca8d1e1b8ab9dc50677e131557ccf4f9922362ab5b5f85bd8e28af4ac3bfcfd3edb2d0f7ef0148dc2271634cc71c4fead0fc11a8c01e62095eb23297600cea","_id":"5a3c4dadea82245f90954897","created":"2017-12-22T00:11:25.706Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:11:25.710Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:11:25.725Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:11:25.749Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:25.749Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:11:25.749Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:11:25.752Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:11:25.765Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:11:25.768Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:11:25.769Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:11:25.769Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:11:25.772Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:17:49.484Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:17:49.613Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:54.278Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:17:54.265Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:17:54.265Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:17:54.264Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:17:54.278Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:17:54.280Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:17:54.265Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:17:54.265Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:17:54.264Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:17:54.280Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:17:54.296Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:17:54.981Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:17:54.998Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:17:55.045Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:55.046Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:17:55.047Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:17:55.051Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:17:55.057Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:17:55.068Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:55.075Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$VDrA2rmtIyDA11GKSRVl3ePYia9rTtwSkKQzLf/bCB3./TCOflgea","tokenSeed":"2acf766a275c783b0a35c7fbb67435c4831fe9226cd6478052932c221b0ebf7210722794e5adf4552196cce6653237a63d5f0c83097165ec2ff1b73df4d8cecd","_id":"5a3c4f3371e29c613d854991","created":"2017-12-22T00:17:55.071Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:17:55.081Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:17:55.097Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:17:55.116Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:55.116Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:17:55.116Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:17:55.122Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:17:55.137Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:55.140Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:17:55.141Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:17:55.141Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:17:55.144Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:17:56.015Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:17:56.042Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:17:56.076Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:56.081Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:17:56.081Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:17:56.089Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:17:56.098Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:56.099Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:17:56.099Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:17:56.104Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4f348ece2c613d90f54a","timestamp":"2017-12-22T00:17:56.124Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4f348ece2c613d90f54c","timestamp":"2017-12-22T00:17:56.146Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:56.147Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:17:56.147Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:17:56.148Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:17:56.165Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:17:56.169Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:17:56.169Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:17:56.173Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:17:56.176Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:20:41.994Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:20:42.198Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:46.536Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:20:46.528Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:20:46.528Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:20:46.528Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:20:46.536Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:20:46.538Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:20:46.528Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:20:46.528Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:20:46.528Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:20:46.538Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:20:46.556Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:20:47.231Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:20:47.257Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:20:47.308Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:47.314Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:20:47.314Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:20:47.319Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:20:47.326Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:47.326Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:20:47.326Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:20:47.329Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4fdf3dff2c61f84004aa","timestamp":"2017-12-22T00:20:47.345Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c4fdf3dff2c61f84004ac","timestamp":"2017-12-22T00:20:47.365Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:47.366Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:20:47.366Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:20:47.368Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:20:47.384Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:47.387Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:20:47.387Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:20:47.389Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:20:47.393Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:20:48.180Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:20:48.196Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:20:48.217Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:48.219Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:20:48.219Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:20:48.223Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:20:48.230Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:20:48.241Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:48.246Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$HXD8zi0twJjn.zePiruMmOsVvDVanA0sO9Iq7MRQGMS36VQMkl3Vi","tokenSeed":"db35a12ede30cfd19244d962f1c4a0aeed2abd8c6eb556a92c66dff5cc150a6b3d17fc6ee1468dc8f2010d48be7c91166896193ce86849b2fbf164d02bbc041f","_id":"5a3c4fe00477c861f86500a0","created":"2017-12-22T00:20:48.244Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:20:48.248Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:20:48.262Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:20:48.281Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:48.282Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:20:48.282Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:20:48.283Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:20:48.296Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:20:48.298Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:20:48.298Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:20:48.298Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:20:48.301Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:22:28.013Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:22:28.253Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:28.309Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:22:28.299Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:22:28.299Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:60257)"}},"level":"info","timestamp":"2017-12-22T00:22:28.309Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:22:28.309Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:22:28.299Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:22:28.299Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:60257)"}},"level":"info","timestamp":"2017-12-22T00:22:28.309Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:22:28.328Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:22:28.996Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:22:29.011Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:22:29.059Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.060Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:22:29.060Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:22:29.062Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:22:29.068Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:22:29.076Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.081Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$jQaidBGtpSQi/HUR1H8o1.iL3KZDvqMMWLhXIjFnXooS7eK.OQafm","tokenSeed":"1dffc20244571d336ef22d9e41d3f3b9be054a6e1dc36183de889df9ce2fce3e24026436b981fc1861d1827bae5c17bce411cd8d191f300ab1e2349b1fa8ea46","_id":"5a3c50455cda886261b80108","created":"2017-12-22T00:22:29.079Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:22:29.083Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:22:29.095Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:22:29.114Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.114Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:22:29.115Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:22:29.117Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:22:29.129Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.131Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:22:29.131Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:22:29.131Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:22:29.134Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:22:29.840Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:22:29.864Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:22:29.896Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.900Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:22:29.900Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:22:29.905Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:22:29.911Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.911Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:22:29.911Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:22:29.913Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c504542dc3762611058be","timestamp":"2017-12-22T00:22:29.927Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c504542dc3762611058c0","timestamp":"2017-12-22T00:22:29.946Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.946Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:22:29.946Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:22:29.947Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:22:29.960Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:22:29.963Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:22:29.963Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:22:29.964Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:22:29.967Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:23:16.743Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:23:16.954Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:21.497Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:23:21.486Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:23:21.486Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:23:21.485Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:23:21.497Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:23:21.499Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:23:21.486Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:23:21.486Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:23:21.485Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:23:21.500Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:23:21.515Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:23:22.146Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:23:22.172Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:23:22.213Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:22.218Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:23:22.218Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:23:22.223Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:23:22.228Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:22.229Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:23:22.229Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:23:22.231Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c507aa5d55162a613ff30","timestamp":"2017-12-22T00:23:22.246Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c507aa5d55162a613ff32","timestamp":"2017-12-22T00:23:22.264Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:22.265Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:23:22.265Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:23:22.266Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:23:22.285Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:22.293Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:23:22.293Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:23:22.298Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:23:22.304Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:23:23.088Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:23:23.103Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:23:23.127Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:23.129Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:23:23.130Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:23:23.133Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:23:23.140Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:23:23.151Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:23.156Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$wlZfy0/jc./6rKNUsc/gIeUHNHu96vUMVFlcXr6qkURg/K2mMSh96","tokenSeed":"3d0306522407f7c99b7cda4bf5816bd8c0c43f52631132d9ff6282fbb5f9a133baf350c591791b799d6163cff318b4c8d1f91cd966714d57041bba85e5001fd3","_id":"5a3c507b8ef0e562a6297e71","created":"2017-12-22T00:23:23.153Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:23:23.158Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:23:23.173Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:23:23.192Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:23.192Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:23:23.193Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:23:23.194Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:23:23.207Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:23:23.209Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:23:23.209Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:23:23.209Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:23:23.213Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:24:28.190Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:24:28.392Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:28.420Z"}
{"message":"Cannot read property 'promise' of undefined","stack":"TypeError: Cannot read property 'promise' of undefined\n    at Object.<anonymous>.s3.upload (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/s3.js:17:224)\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:28:13)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","level":"info","timestamp":"2017-12-22T00:24:28.421Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:24:28.422Z"}
{"message":"Cannot read property 'promise' of undefined","stack":"TypeError: Cannot read property 'promise' of undefined\n    at Object.<anonymous>.s3.upload (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/s3.js:17:224)\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:28:13)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","level":"info","timestamp":"2017-12-22T00:24:28.422Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:24:28.440Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:24:29.085Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:24:29.100Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:24:29.145Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:29.147Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:24:29.147Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:24:29.149Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:24:29.156Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:24:29.167Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:29.174Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$NvntofBmXprWHeThVz9GtOAuVx4KrQrbtJSdQa8N.e.HQ5HtYoRgG","tokenSeed":"6b39536a32af4e001001606471f88e25b6bebf64cb50e5ab31c897e896b8d5eb64684dfdee68c0c2dae96ab20c269ab2ee0ec6e8934ad9094283aa6f95453f7a","_id":"5a3c50bd4033236306413e37","created":"2017-12-22T00:24:29.170Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:24:29.178Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:24:29.194Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:24:29.214Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:29.215Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:24:29.215Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:24:29.217Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:24:29.230Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:29.232Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:24:29.233Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:24:29.233Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:24:29.237Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:24:29.902Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:24:30.085Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:24:30.117Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:30.123Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:24:30.124Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:24:30.129Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:24:30.135Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:30.136Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:24:30.136Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:24:30.139Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c50be1f99e76306d6f3a5","timestamp":"2017-12-22T00:24:30.157Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c50be1f99e76306d6f3a7","timestamp":"2017-12-22T00:24:30.182Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:30.182Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:24:30.182Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:24:30.184Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:24:30.200Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:24:30.203Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:24:30.203Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:24:30.205Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:24:30.210Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:25:36.727Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:25:36.935Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:36.977Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:25:36.972Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:25:36.971Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:60518)"}},"level":"info","timestamp":"2017-12-22T00:25:36.977Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:25:36.977Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:25:36.972Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:25:36.971Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:60518)"}},"level":"info","timestamp":"2017-12-22T00:25:36.977Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:25:36.996Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:25:37.618Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:25:37.649Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:25:37.699Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:37.704Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:25:37.704Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:25:37.710Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:25:37.718Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:37.720Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:25:37.720Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:25:37.724Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5101d9084c6361270a2f","timestamp":"2017-12-22T00:25:37.740Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5101d9084c6361270a31","timestamp":"2017-12-22T00:25:37.760Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:37.761Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:25:37.761Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:25:37.763Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:25:37.777Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:37.781Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:25:37.781Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:25:37.783Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:25:37.787Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:25:38.642Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:25:38.657Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:25:38.679Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:38.681Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:25:38.681Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:25:38.684Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:25:38.693Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:25:38.703Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:38.708Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$7HC1v0Qmx81gqnII/JK.ouuOZZKjkrGx1Wd5MaNcoSfD5B8o76KCG","tokenSeed":"95f97c3411caded28fdd99fc0138531e32a0a621f93b86f009fced3ba9c11e52f26fe2c9f733858f119769a06f678b9a464496d44ba7dc9e15bbd68702ab9a30","_id":"5a3c51026822c263617fd125","created":"2017-12-22T00:25:38.706Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:25:38.710Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:25:38.725Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:25:38.746Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:38.746Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:25:38.746Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:25:38.748Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:25:38.761Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:25:38.763Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:25:38.763Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:25:38.764Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:25:38.766Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:26:23.545Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:26:23.770Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:28.352Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:26:28.341Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:26:28.341Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:26:28.340Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:26:28.352Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:26:28.354Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:26:28.341Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:26:28.341Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:26:28.340Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:26:28.354Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:26:28.371Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:26:28.978Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:26:28.995Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:26:29.035Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:29.036Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:26:29.036Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:26:29.039Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:26:29.045Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:26:29.054Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:29.058Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$e9vWC4LQItMJWfPJJkSKEuDH9GZp7Gie3tOI2Np9VwfgPFN0OL8jy","tokenSeed":"8a5e55f626cca3acbc892ad15f10f85ca63b49596302e3b3a45023585ade6c9ab1e39817deb6c17195e2efea1fb201d1e440f8946714ff1499578001fac522d6","_id":"5a3c5135df6bf663a5b62371","created":"2017-12-22T00:26:29.056Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:26:29.061Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:26:29.073Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:26:29.091Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:29.091Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:26:29.091Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:26:29.093Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:26:29.104Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:29.106Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:26:29.106Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:26:29.106Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:26:29.109Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:26:29.924Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:26:29.956Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:26:29.987Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:29.992Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:26:29.992Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:26:29.997Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:26:30.003Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:30.004Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:26:30.004Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:26:30.006Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c513621e40f63a53eadc4","timestamp":"2017-12-22T00:26:30.022Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c513621e40f63a53eadc6","timestamp":"2017-12-22T00:26:30.043Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:30.044Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:26:30.044Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:26:30.045Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:26:30.061Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:26:30.064Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:26:30.064Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:26:30.066Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:26:30.069Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:28:55.832Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:28:56.049Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:56.098Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:28:56.091Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:28:56.090Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:60759)"}},"level":"info","timestamp":"2017-12-22T00:28:56.098Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:28:56.098Z"}
{"message":"Missing credentials in config","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:28:56.091Z","originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"time":"2017-12-22T00:28:56.090Z","originalError":{"code":"EHOSTUNREACH","errno":"EHOSTUNREACH","syscall":"connect","address":"169.254.169.254","port":80,"message":"connect EHOSTUNREACH 169.254.169.254:80 - Local (172.16.2.20:60759)"}},"level":"info","timestamp":"2017-12-22T00:28:56.099Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:28:56.119Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:28:56.744Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:28:56.786Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:28:56.844Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:56.849Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:28:56.849Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:28:56.853Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:28:56.860Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:56.861Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:28:56.861Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:28:56.865Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c51c831d3b6644230418a","timestamp":"2017-12-22T00:28:56.883Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c51c831d3b6644230418c","timestamp":"2017-12-22T00:28:56.905Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:56.906Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:28:56.906Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:28:56.908Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:28:56.922Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:56.925Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:28:56.925Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:28:56.927Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:28:56.930Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:28:57.724Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:28:57.740Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:28:57.764Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:57.766Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:28:57.766Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:28:57.769Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:28:57.777Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:28:57.785Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:57.790Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$enDrzeWzgThKY5GUIkaz1Ot2ih3UIK94DTiQTD8GaXwGKpj2rFVD.","tokenSeed":"39a5892f6275d684f42a0d66d6b4fc068cfab63b9040bc47d78a39754f08bcf948564f17cb7f12d2017532bb6882c0102962fbd809dbc4a3d61a1eabb4376677","_id":"5a3c51c9c57ac564425e4e91","created":"2017-12-22T00:28:57.787Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:28:57.792Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:28:57.804Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:28:57.822Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:57.822Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:28:57.823Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:28:57.824Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:28:57.835Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:28:57.837Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:28:57.837Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:28:57.838Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:28:57.841Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:30:49.353Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:30:49.578Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:54.585Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:30:54.575Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:30:54.574Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:30:54.574Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:30:54.586Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:30:54.587Z"}
{"message":"Missing credentials in config","stack":"CredentialsError: Missing credentials in config\n    at ClientRequest.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/aws-sdk/lib/http/node.js:83:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at ClientRequest.emit (events.js:208:7)\n    at Socket.emitTimeout (_http_client.js:708:34)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Socket.emit (events.js:208:7)\n    at Socket._onTimeout (net.js:407:8)\n    at ontimeout (timers.js:475:11)\n    at tryOnTimeout (timers.js:310:5)\n    at Timer.listOnTimeout (timers.js:270:5)","code":"CredentialsError","name":"CredentialsError","time":"2017-12-22T00:30:54.575Z","retryable":true,"originalError":{"message":"Could not load credentials from any providers","code":"CredentialsError","time":"2017-12-22T00:30:54.574Z","retryable":true,"originalError":{"message":"Connection timed out after 1000ms","code":"TimeoutError","time":"2017-12-22T00:30:54.574Z","retryable":true}},"level":"info","timestamp":"2017-12-22T00:30:54.587Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:30:54.590Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:30:55.191Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:30:55.206Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:30:55.247Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:55.249Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:30:55.249Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:30:55.253Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:30:55.262Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:30:55.273Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:55.278Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$dhYGTaXCB7xE.c.h/ClToOMby5lzL4vsaIIuh7gqDLoxV.OF/fa3u","tokenSeed":"382f9349091688c8c5cd056610b70aedfcd607eaf2fdbf8e5e9d95733c52fabf0012bc6762d8ca7aac811be6a32b32df6d2eb6f06e9a517b125cec16a561e9e3","_id":"5a3c523f8c907664c1be7f42","created":"2017-12-22T00:30:55.275Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:30:55.280Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:30:55.293Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:30:55.310Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:55.311Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:30:55.311Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:30:55.313Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:30:55.323Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:55.325Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:30:55.325Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:30:55.325Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:30:55.328Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:30:56.065Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:30:56.093Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:30:56.127Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:56.131Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:30:56.132Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:30:56.135Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:30:56.143Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:56.144Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:30:56.144Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:30:56.146Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5240636cc164c1fe3040","timestamp":"2017-12-22T00:30:56.162Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5240636cc164c1fe3042","timestamp":"2017-12-22T00:30:56.183Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:56.183Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:30:56.183Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:30:56.184Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:30:56.199Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:30:56.202Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:30:56.202Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:30:56.204Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:30:56.209Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:32:07.196Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:32:07.397Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:12.047Z"}
{"message":"song validation failed: url: Path `url` is required.","errors":{"url":{"message":"Path `url` is required.","name":"ValidatorError","properties":{"type":"required","message":"Path `{PATH}` is required.","path":"url"},"kind":"required","path":"url","$isValidatorError":true}},"_message":"song validation failed","stack":"ValidationError: url: Path `url` is required.\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1545:17\n    at validate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:784:7)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:829:11\n    at Array.forEach (<anonymous>)\n    at SchemaString.Object.<anonymous>.SchemaType.doValidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:789:19)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1543:9\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:32:12.047Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:32:12.050Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:32:12.053Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:32:12.666Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:32:12.690Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:32:12.748Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:12.754Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:32:12.754Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:32:12.758Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:32:12.765Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:12.766Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:32:12.766Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:32:12.769Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c528ce10c0b651548f0aa","timestamp":"2017-12-22T00:32:12.786Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c528ce10c0b651548f0ac","timestamp":"2017-12-22T00:32:12.806Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:12.807Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:32:12.808Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:32:12.810Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:32:12.832Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:12.837Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:32:12.837Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:32:12.838Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:32:12.843Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:32:13.735Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:32:13.755Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:32:13.783Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:13.788Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:32:13.788Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:32:13.793Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:32:13.799Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:32:13.812Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:13.817Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$P6kZwvf5BVQ19eh8vBMODOPRdls47YVKdLPjv8g4G6j.3.yPrnOsa","tokenSeed":"52d4977efc52a52ffb7ce90e63e22dc1bb9c248f3c91001d00d9ea62dc70796a1856400ae2ab7d3911d378548d9fc1df72ccc8acaa4b830329fdbef1cf22d442","_id":"5a3c528d60d4636515969fa9","created":"2017-12-22T00:32:13.814Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:32:13.821Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:32:13.838Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:32:13.861Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:13.862Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:32:13.862Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:32:13.864Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:32:13.878Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:32:13.881Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:32:13.881Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:32:13.881Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:32:13.887Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:43:28.888Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:43:29.084Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:33.793Z"}
{"message":"song validation failed: url: Path `url` is required.","errors":{"url":{"message":"Path `url` is required.","name":"ValidatorError","properties":{"type":"required","message":"Path `{PATH}` is required.","path":"url"},"kind":"required","path":"url","$isValidatorError":true}},"_message":"song validation failed","stack":"ValidationError: url: Path `url` is required.\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1545:17\n    at validate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:784:7)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:829:11\n    at Array.forEach (<anonymous>)\n    at SchemaString.Object.<anonymous>.SchemaType.doValidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:789:19)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1543:9\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:43:33.794Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:43:33.796Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:43:33.799Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:43:34.408Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:43:34.422Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:43:34.470Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:34.471Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:43:34.472Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:43:34.475Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:43:34.481Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:43:34.490Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:34.494Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$xGQN3ZyZbOc2HgGw7flZ/e3.HfeYQEYym8aOk4u4.llt50x7vvQPy","tokenSeed":"cf9ca0f22d2e1533584a554a5a23ffc5e5eeba2a3205651b23202958459403dcbad03ee33767ccd019c2fbcf23048dca085cb8a35fb3493d06109754a611b0fb","_id":"5a3c5536a98f1d673cee4a40","created":"2017-12-22T00:43:34.492Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:43:34.499Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:43:34.512Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:43:34.530Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:34.531Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:43:34.531Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:43:34.537Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:43:34.548Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:34.553Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:43:34.553Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:43:34.553Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:43:34.558Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:43:35.435Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:43:35.466Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:43:35.500Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:35.503Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:43:35.504Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:43:35.510Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:43:35.516Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:35.516Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:43:35.517Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:43:35.519Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c55372127b4673cdc1654","timestamp":"2017-12-22T00:43:35.536Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c55372127b4673cdc1656","timestamp":"2017-12-22T00:43:35.566Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:35.567Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:43:35.567Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:43:35.568Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:43:35.587Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:43:35.590Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:43:35.591Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:43:35.593Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:43:35.597Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:47:15.460Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:47:15.656Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:15.687Z"}
{"message":"Cannot read property 'promise' of undefined","stack":"TypeError: Cannot read property 'promise' of undefined\n    at Object.<anonymous>.s3.upload (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/s3.js:17:172)\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:28:13)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","level":"info","timestamp":"2017-12-22T00:47:15.688Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T00:47:15.689Z"}
{"message":"Cannot read property 'promise' of undefined","stack":"TypeError: Cannot read property 'promise' of undefined\n    at Object.<anonymous>.s3.upload (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/s3.js:17:172)\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:28:13)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","level":"info","timestamp":"2017-12-22T00:47:15.689Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:47:15.707Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:47:16.318Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:47:16.348Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:47:16.393Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:16.398Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:47:16.398Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:47:16.403Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:47:16.409Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:16.410Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:47:16.410Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:47:16.413Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5614593cee681e9203ca","timestamp":"2017-12-22T00:47:16.432Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5614593cee681e9203cc","timestamp":"2017-12-22T00:47:16.455Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:16.456Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:47:16.457Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:47:16.459Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:47:16.474Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:16.478Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:47:16.478Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:47:16.480Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:47:16.485Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:47:17.169Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:47:17.340Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:47:17.368Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:17.369Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:47:17.369Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:47:17.371Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:47:17.377Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:47:17.386Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:17.391Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$T/VtWOqcHe.iAKsPs3hNu.2yR1ieCOFvW0KVdIBIJ4/xcO.Fhk.QG","tokenSeed":"8e9f1287888d131492b3723975133cac0ccf0dfca146c564f85132a670005280ac7a366af884a098880432cca3ebfe2adfc048bf56e4efd88c62559f20d95216","_id":"5a3c5615901b14681ee65490","created":"2017-12-22T00:47:17.389Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:47:17.394Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:47:17.407Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:47:17.429Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:17.430Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:47:17.430Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:47:17.432Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:47:17.445Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:47:17.448Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:47:17.448Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:47:17.449Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:47:17.452Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:49:58.098Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:49:58.321Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:02.616Z"}
{"message":"song validation failed: url: Path `url` is required.","errors":{"url":{"message":"Path `url` is required.","name":"ValidatorError","properties":{"type":"required","message":"Path `{PATH}` is required.","path":"url"},"kind":"required","path":"url","$isValidatorError":true}},"_message":"song validation failed","stack":"ValidationError: url: Path `url` is required.\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1545:17\n    at validate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:784:7)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:829:11\n    at Array.forEach (<anonymous>)\n    at SchemaString.Object.<anonymous>.SchemaType.doValidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:789:19)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1543:9\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:50:02.616Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:50:02.619Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:50:02.624Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:50:03.216Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:50:03.230Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:50:03.272Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:03.273Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:50:03.273Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:50:03.275Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:50:03.280Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:50:03.289Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:03.293Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$zqkFOexEwK15aeSSaRkroegJ7hTcUsA3GTmXMSOMtCTp9jBmu.kgO","tokenSeed":"cd465a4dc380931f8f372d830f4fde6a935356e29537c0d1e5187eac1273efd3fd17c3dbaf83712a6cb80388521b54747b4cbd04d3eb52ad9cc0d94f0a25bce8","_id":"5a3c56bb313384698e9ae9b7","created":"2017-12-22T00:50:03.291Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:50:03.296Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:50:03.308Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:50:03.327Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:03.327Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:50:03.327Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:50:03.329Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:50:03.342Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:03.345Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:50:03.345Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:50:03.345Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:50:03.348Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:50:04.083Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:50:04.109Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:50:04.140Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:04.146Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:50:04.146Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:50:04.150Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:50:04.156Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:04.157Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:50:04.157Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:50:04.159Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c56bc6eba86698e6b40c5","timestamp":"2017-12-22T00:50:04.174Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c56bc6eba86698e6b40c7","timestamp":"2017-12-22T00:50:04.194Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:04.195Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:50:04.195Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:50:04.196Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:50:04.208Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:50:04.212Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:50:04.212Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:50:04.213Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:50:04.217Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:51:28.369Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:51:28.488Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:51:28.927Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:51:29.563Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:51:29.586Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:51:29.629Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:29.634Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:51:29.634Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:51:29.638Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:51:29.644Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:29.645Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:51:29.645Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:51:29.647Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c571102dbf569fbf88943","timestamp":"2017-12-22T00:51:29.663Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c571102dbf569fbf88945","timestamp":"2017-12-22T00:51:29.681Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:29.682Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:51:29.682Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:51:29.683Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:51:29.696Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:29.699Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:51:29.699Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:51:29.700Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:51:29.705Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:51:30.416Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:51:30.430Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:51:30.450Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:30.451Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:51:30.451Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:51:30.453Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:51:30.460Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:51:30.471Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:30.475Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$qLwcWdzZq01wnpU0td53JeZ/y2w1Kd6mIoPaHeAUwI4A6LmMhWUTq","tokenSeed":"3a365873b70c4981cfb3ff001ec82f7ee8a226b0cf53434a685482aaf35aef1a0091e5d0864bfb220992d1432fc465b35c7c16f358a266464e605f8b61ea29fa","_id":"5a3c57126e8cda69fb8635c7","created":"2017-12-22T00:51:30.473Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:51:30.477Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:51:30.490Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:51:30.508Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:30.509Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:51:30.509Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:51:30.511Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:51:30.521Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:51:30.523Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:51:30.523Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:51:30.523Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:51:30.526Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:52:09.810Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T00:52:09.965Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:52:11.028Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:52:11.653Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:52:11.668Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:52:11.712Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:11.714Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:52:11.714Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T00:52:11.718Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:52:11.726Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T00:52:11.740Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:11.745Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$dSJqZWbHW5JTtjc3x1zMhOj.LebacjUPpTzQWIMRX5uHY0lljck72","tokenSeed":"88f16971c993fe8df8f7e1849b0e4233aa5606d6d8446095b18670d54340b2a4d588a541fda9925fedbeb7a36ccad041db85ea871a3db4b0a277a86806d3a5a8","_id":"5a3c573b1cbc136a3d70f76f","created":"2017-12-22T00:52:11.742Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T00:52:11.748Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:52:11.767Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:52:11.787Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:11.787Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:52:11.787Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:52:11.789Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T00:52:11.802Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:11.804Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T00:52:11.805Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T00:52:11.805Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:52:11.807Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T00:52:12.563Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:52:12.594Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:52:12.630Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:12.636Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T00:52:12.636Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T00:52:12.640Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T00:52:12.646Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:12.647Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T00:52:12.647Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T00:52:12.650Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c573ca408f66a3d0cf082","timestamp":"2017-12-22T00:52:12.666Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c573ca408f66a3d0cf084","timestamp":"2017-12-22T00:52:12.689Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:12.689Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T00:52:12.689Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T00:52:12.690Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T00:52:12.705Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T00:52:12.708Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T00:52:12.708Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T00:52:12.709Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T00:52:12.712Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:00:12.615Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:00:12.811Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:00:14.274Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:00:15.280Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:00:15.306Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:00:15.358Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:15.365Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:00:15.366Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:00:15.371Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:00:15.378Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:15.379Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:00:15.379Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:00:15.382Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c591fc8e80e6c83d2a5a8","timestamp":"2017-12-22T01:00:15.399Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c591fc8e80e6c83d2a5aa","timestamp":"2017-12-22T01:00:15.421Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:15.422Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:00:15.422Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:00:15.424Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:00:15.441Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:15.444Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:00:15.444Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:00:15.446Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:00:15.449Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:00:16.319Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:16.335Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:16.358Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:16.360Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:00:16.360Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:00:16.366Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:16.373Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:16.384Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:16.388Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$Nt1aGvJZ2dgsWB.k3Rn3ku4MhOvCjcEazS7Amq8d1R162zSdzpXky","tokenSeed":"4ce54bb52852502b7e2876fe9405d8acbcf9a99209a16e93ab5ad7b4fa8f328b32980a607012f588a0580b34d25aa3710df4bc3577441078a77834ebcbe96426","_id":"5a3c59200f263d6c83ce0c2c","created":"2017-12-22T01:00:16.386Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:00:16.390Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:00:16.403Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:00:16.421Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:16.421Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:00:16.421Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:00:16.423Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:00:16.435Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:16.437Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:00:16.437Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:00:16.437Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:00:16.440Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:00:47.672Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:00:47.820Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:00:47.874Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:00:48.585Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:00:48.607Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:00:48.652Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:48.658Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:00:48.658Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:00:48.662Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:00:48.669Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:48.670Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:00:48.670Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:00:48.673Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c59409d7f996cb5f02900","timestamp":"2017-12-22T01:00:48.688Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c59409d7f996cb5f02902","timestamp":"2017-12-22T01:00:48.714Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:48.715Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:00:48.715Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:00:48.716Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:00:48.728Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:48.731Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:00:48.731Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:00:48.733Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:00:48.736Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:00:49.331Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:49.477Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:49.499Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:49.500Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:00:49.500Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:00:49.502Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:49.507Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:00:49.516Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:49.521Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$Gjfse1aNZRO5f7HB.iO89.WpGzd8pCTBKKoVSMjF6Fjk8xmSDivEa","tokenSeed":"a79b2a66446870242f865b903ca5f991b9758539dcfdedd2b2d2c7d006d6839ec82863fcd0e3b759171136551a567375e7d071138a30d65700453e28b1b0937f","_id":"5a3c59410252f46cb5af129b","created":"2017-12-22T01:00:49.518Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:00:49.523Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:00:49.535Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:00:49.553Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:49.554Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:00:49.554Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:00:49.556Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:00:49.567Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:00:49.569Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:00:49.569Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:00:49.569Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:00:49.572Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:03:49.799Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:03:49.947Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:03:50.015Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:50.021Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:03:50.022Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:03:50.022Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:03:50.027Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:03:50.868Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:03:50.894Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:03:50.936Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:50.942Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:03:50.942Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:03:50.946Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:03:50.953Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:50.954Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:03:50.955Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:03:50.958Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c59f66ea5b96d7565e29e","timestamp":"2017-12-22T01:03:50.973Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c59f66ea5b96d7565e2a0","timestamp":"2017-12-22T01:03:50.991Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:50.992Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:03:50.992Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:03:50.993Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:03:51.006Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:51.009Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:03:51.009Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:03:51.011Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:03:51.015Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:03:51.664Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:03:51.836Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:03:51.860Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:51.861Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:03:51.861Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:03:51.863Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:03:51.870Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:03:51.879Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:51.884Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$zdUZHUr0j9oNZZZzp517d.UWxE4TZD.3WCBQvpzSjV4UuvBG/Cmzq","tokenSeed":"f792b39903fea394dcb546f0dfb23b9efc8e1c87b30d6657c2038c699010841cfaf89dde3ee52dc6cc05da804975067092e738af863f1dca8df01f9b9a9f0117","_id":"5a3c59f7a830b16d7580ca10","created":"2017-12-22T01:03:51.881Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:03:51.887Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:03:51.900Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:03:51.920Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:51.920Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:03:51.920Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:03:51.923Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:03:51.934Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:03:51.937Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:03:51.937Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:03:51.937Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:03:51.941Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:07:14.145Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:07:14.348Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:07:14.406Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:14.411Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:07:14.411Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:07:14.411Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:07:14.424Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:14.425Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:07:14.425Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:07:14.428Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:07:14.432Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:07:15.140Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:07:15.167Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:07:15.227Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:15.238Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:07:15.238Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:07:15.244Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:07:15.254Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:15.255Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:07:15.255Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:07:15.260Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5ac3143b7b6e335a8d48","timestamp":"2017-12-22T01:07:15.282Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5ac3143b7b6e335a8d4a","timestamp":"2017-12-22T01:07:15.304Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:15.304Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:07:15.304Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:07:15.305Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:07:15.321Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:15.324Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:07:15.324Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:07:15.325Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:07:15.329Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:07:16.068Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:07:16.260Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:07:16.288Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:16.290Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:07:16.290Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:07:16.294Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:07:16.299Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:07:16.313Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:16.318Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$DAlXAxjrKeGXgVXJ7mMeYue/Wmm87HzjyVNiWLqtExUhmrG9pI/ge","tokenSeed":"fe7af29f08686849179f10fd60ad5539164cf51b55b94b8016e99b64e7acb3c6452da786995bab0ecd85d03fed545b09452b57fa4fde20d3da331e9c70553f96","_id":"5a3c5ac4837b416e336c03d5","created":"2017-12-22T01:07:16.316Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:07:16.322Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:07:16.338Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:07:16.363Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:16.364Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:07:16.364Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:07:16.365Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:07:16.380Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:07:16.382Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:07:16.382Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:07:16.383Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:07:16.386Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:10:55.161Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:10:55.325Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:10:55.384Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:55.390Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:10:55.390Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:10:55.390Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:10:55.403Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:55.405Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:10:55.405Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:10:55.407Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:10:55.411Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:10:56.098Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:10:56.114Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:10:56.154Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:56.156Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:10:56.156Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:10:56.157Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:10:56.163Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:10:56.175Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:56.181Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$RRusV2/z14F7o.Z4wftHv.5gUtO8cP59C1MOEW0.iSW3YyOiokq0a","tokenSeed":"6573e1d8535be8f90fe4f22a4875d75d346a840668757ffa88a2774eb8ddae2f885643073d3544f32d9d894f70eaa694a87ac37c8bea955c74c7ec9ab1e248e7","_id":"5a3c5ba02683eb6f0c48debc","created":"2017-12-22T01:10:56.178Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:10:56.184Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:10:56.203Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:10:56.223Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:56.223Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:10:56.224Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:10:56.226Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:10:56.237Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:56.240Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:10:56.240Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:10:56.240Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:10:56.243Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:10:56.912Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:10:57.099Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:10:57.130Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:57.136Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:10:57.136Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:10:57.140Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:10:57.149Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:57.150Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:10:57.150Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:10:57.152Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5ba196e8046f0cc46b54","timestamp":"2017-12-22T01:10:57.168Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c5ba196e8046f0cc46b56","timestamp":"2017-12-22T01:10:57.189Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:57.189Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:10:57.190Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:10:57.191Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:10:57.208Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:10:57.213Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:10:57.214Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:10:57.215Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:10:57.218Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:37:22.072Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:37:22.279Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:37:22.339Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:22.346Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:37:22.346Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:37:22.347Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:37:22.360Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:22.362Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:37:22.362Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:37:22.364Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c61d22d1e047424522e60","timestamp":"2017-12-22T01:37:22.380Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-22T01:37:22.380Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:37:22.385Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:37:23.072Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:37:23.096Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:37:23.146Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:23.153Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:37:23.153Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:37:23.157Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:37:23.162Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:23.163Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:37:23.163Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:37:23.165Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c61d3056afd7424b3d6e2","timestamp":"2017-12-22T01:37:23.184Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c61d3056afd7424b3d6e4","timestamp":"2017-12-22T01:37:23.207Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:23.207Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:37:23.207Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:37:23.208Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:37:23.225Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:23.228Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:37:23.229Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:37:23.230Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:37:23.235Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:37:23.861Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:37:24.041Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:37:24.064Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:24.065Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:37:24.065Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:37:24.067Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:37:24.073Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:37:24.082Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:24.087Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$4C3mtBjIKIG9QK.IKommZOThUVWlaRMt6Za0pdOqB2pGrf21C2dxO","tokenSeed":"dd3a51af992a11cad51f903d19a49082c59a851abb2a2f098f7f94f8c35d5a3697f65d909d6dda190f0deaa5b7631bbec2d6116b3ab94c050b15ee744cf6f9d7","_id":"5a3c61d49ca1bc74249a044c","created":"2017-12-22T01:37:24.084Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:37:24.090Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:37:24.103Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:37:24.128Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:24.129Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:37:24.129Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:37:24.131Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:37:24.145Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:37:24.148Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:37:24.148Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:37:24.148Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:37:24.151Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:39:52.724Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:39:52.943Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:39:53.003Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:53.008Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:39:53.009Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:39:53.009Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:39:53.022Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:53.024Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:39:53.024Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:39:53.026Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c6269dbbc7b74c097053b","timestamp":"2017-12-22T01:39:53.041Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-22T01:39:53.041Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:39:53.047Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:39:53.711Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:39:53.726Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:39:53.765Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:53.766Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:39:53.766Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:39:53.767Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:39:53.774Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:39:53.785Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:53.790Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$Pv..y1Ne./2UldoEWXYWzevPxfVc6473s7n/ZrRdxEGQXFgyOVSNq","tokenSeed":"04aeb61842bd8dc11717c3f48955d83440b60b6f154921089449299e7bac04029f7f77d29ffb9dc9be88df94e3d6b060b8baff8b48ce9f4aca34d69423b34cca","_id":"5a3c62694fea7574c056b9b4","created":"2017-12-22T01:39:53.787Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:39:53.793Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:39:53.806Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:39:53.825Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:53.826Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:39:53.826Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:39:53.828Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:39:53.840Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:53.842Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:39:53.842Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:39:53.842Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:39:53.846Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:39:54.456Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:39:54.653Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:39:54.686Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:54.693Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:39:54.693Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:39:54.698Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:39:54.704Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:54.704Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:39:54.705Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:39:54.707Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c626a72249274c0e0f420","timestamp":"2017-12-22T01:39:54.722Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c626a72249274c0e0f422","timestamp":"2017-12-22T01:39:54.743Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:54.744Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:39:54.744Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:39:54.745Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:39:54.759Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:39:54.762Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:39:54.762Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:39:54.764Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:39:54.767Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:44:28.126Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:44:28.247Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:44:28.311Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:28.317Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:44:28.317Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:44:28.317Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:44:28.331Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:28.332Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:44:28.332Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:44:28.334Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c637c05483775f1d76aed","timestamp":"2017-12-22T01:44:28.349Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:44:28.373Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:44:28.986Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:44:29.009Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:44:29.054Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.059Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:44:29.059Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:44:29.063Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:44:29.070Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.070Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:44:29.071Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:44:29.083Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c637d5d19f475f123cd5a","timestamp":"2017-12-22T01:44:29.099Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c637d5d19f475f123cd5c","timestamp":"2017-12-22T01:44:29.117Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.118Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:44:29.118Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:44:29.119Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:44:29.134Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.138Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:44:29.138Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:44:29.139Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:44:29.143Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:44:29.713Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:44:29.882Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:44:29.905Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.906Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:44:29.906Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:44:29.907Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:44:29.913Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:44:29.924Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.928Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$5mrlUtzlLSPhntUftYwlH.qpXxrBXR/c7lrWhXEzcBqNoU0azWAhu","tokenSeed":"08ee9780e78a477c303552db0cd6aeae44b6c5cd505ba6e456e667ade0b8c2154668679277e7081f0fecfe54ede866964c53149eb012ce9e6cf05bd13a64ab8d","_id":"5a3c637d1107dc75f19cd7a0","created":"2017-12-22T01:44:29.926Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:44:29.931Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:44:29.945Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:44:29.965Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.966Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:44:29.966Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:44:29.968Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:44:29.979Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:44:29.982Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:44:29.982Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:44:29.982Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:44:29.986Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:45:09.101Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:45:09.270Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:45:09.332Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:09.338Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:09.338Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:45:09.339Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:45:09.353Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:09.354Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:45:09.354Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:45:09.357Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c63a55c1f4f762872251a","timestamp":"2017-12-22T01:45:09.371Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:45:09.384Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:45:09.980Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:09.996Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:10.033Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.034Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:10.035Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:45:10.036Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:10.042Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:10.053Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.058Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$rK9.bgxnNkvLsM6TnSmaxuw7Q0v5dg7dmNH55RaGq/0awD94ff2sq","tokenSeed":"16b15009a27937f11a92712be7e944bf6a1c42b39bef0be3cccf569ba5c0db437f34fb2c7401d9c09d45e048095b3f51980c7b267751f9120087cc139ad24a78","_id":"5a3c63a6b56a1f76281dd385","created":"2017-12-22T01:45:10.055Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:45:10.060Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:45:10.073Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:45:10.093Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.094Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:10.094Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:45:10.097Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:45:10.108Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.110Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:45:10.110Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:45:10.110Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:45:10.113Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:45:10.723Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:45:10.903Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:45:10.930Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.936Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:45:10.936Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:45:10.941Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:45:10.946Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.947Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:45:10.947Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:45:10.951Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c63a62c2a8876287717a6","timestamp":"2017-12-22T01:45:10.966Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c63a62c2a8876287717a8","timestamp":"2017-12-22T01:45:10.987Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:10.988Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:10.988Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:45:10.989Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:45:11.004Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:11.007Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:45:11.007Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:45:11.009Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:45:11.012Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:45:31.050Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:45:31.277Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:45:31.346Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:31.352Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:31.352Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:45:31.353Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:45:31.368Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:31.369Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:45:31.369Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:45:31.372Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c63bb420a76765563b9b4","timestamp":"2017-12-22T01:45:31.389Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:45:31.399Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:45:32.219Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:45:32.261Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:45:32.309Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:32.317Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:45:32.317Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:45:32.321Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:45:32.327Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:32.327Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:45:32.327Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:45:32.329Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c63bc5c769e76555ff424","timestamp":"2017-12-22T01:45:32.344Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c63bc5c769e76555ff426","timestamp":"2017-12-22T01:45:32.364Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:32.364Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:32.364Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:45:32.366Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:45:32.380Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:32.383Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:45:32.383Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:45:32.384Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:45:32.387Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:45:33.052Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:33.216Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:33.240Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:33.241Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:33.241Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:45:33.243Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:33.249Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:45:33.258Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:33.263Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$A2YukuX0N.b8iARBV0QGReez.zZxYxvyQw.YyIRgVeSHJzaxJMyD6","tokenSeed":"4441b304f964238f83de125e91765c5962d02cef1d30d8832541517c14c8a004798ccbe5f02b7b92cb888f047e0dffe95eee84c85c690654d3297061c40c14cb","_id":"5a3c63bd266d9b7655fd4515","created":"2017-12-22T01:45:33.260Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:45:33.266Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:45:33.281Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:45:33.302Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:33.303Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:45:33.303Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:45:33.304Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:45:33.316Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:45:33.319Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:45:33.319Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:45:33.319Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:45:33.322Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:46:09.396Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:46:09.607Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:46:09.669Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:09.675Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:46:09.675Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:46:09.675Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:46:09.689Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:09.691Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:46:09.691Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:46:09.694Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c63e152fe0a769a05e37b","timestamp":"2017-12-22T01:46:09.710Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:46:09.719Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:46:10.496Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:46:10.533Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:46:10.587Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:10.594Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:46:10.594Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:46:10.597Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:46:10.604Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:10.605Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:46:10.605Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:46:10.619Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c63e23841f3769a1b15d1","timestamp":"2017-12-22T01:46:10.637Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c63e23841f3769a1b15d3","timestamp":"2017-12-22T01:46:10.667Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:10.668Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:46:10.668Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:46:10.671Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:46:10.686Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:10.689Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:46:10.690Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:46:10.691Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:46:10.694Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:46:11.362Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:46:11.543Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:46:11.566Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:11.568Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:46:11.568Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:46:11.570Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:46:11.576Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:46:11.587Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:11.591Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$IxxZckERuDJgUrlsAg3GJedT7pkZ.uQGOuuRgBXQD/IT3kI..Fnxy","tokenSeed":"657fccfd6d3774232c11dd6885e6e565abe35e3beaa920f9712ede557723ff42b9349f05992919fe956682b897e5a10bb532c16535d53ef5c00243cbd218f82e","_id":"5a3c63e33c4b8c769a020782","created":"2017-12-22T01:46:11.589Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:46:11.593Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:46:11.607Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:46:11.627Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:11.628Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:46:11.628Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:46:11.630Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:46:11.642Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:46:11.644Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:46:11.644Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:46:11.644Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:46:11.648Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:55:39.357Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:55:39.473Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:55:39.533Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:39.538Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:55:39.538Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:55:39.539Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:55:39.553Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:39.554Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:55:39.554Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:55:39.556Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c661bcd7d5d78a8459385","timestamp":"2017-12-22T01:55:39.570Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T01:55:39.602Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:39.623Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T01:55:39.623Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:55:39.625Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:55:39.632Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:55:40.380Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:55:40.408Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:55:40.457Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:40.461Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:55:40.461Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:55:40.465Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:55:40.470Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:40.470Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:55:40.470Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:55:40.472Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c661cfbb79f78a8a148c1","timestamp":"2017-12-22T01:55:40.487Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c661cfbb79f78a8a148c3","timestamp":"2017-12-22T01:55:40.505Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:40.506Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:55:40.506Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:55:40.507Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:55:40.521Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:40.525Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:55:40.525Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:55:40.527Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:55:40.530Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:55:41.197Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:55:41.369Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:55:41.394Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:41.395Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:55:41.395Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:55:41.398Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:55:41.403Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:55:41.414Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:41.419Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$rGMlg5k3mOKxaJBmImi.eeLCzhShGi/ehAU5pMOB.XmZl2ubKOEMq","tokenSeed":"9cd29ddaf8b1a1febb763eddb95f84e1d6258b2435d62478893521a55124b040ce307d8d0d0fb5fe2aded22143acadb3279916b494adadc0e9209c4db3d42b91","_id":"5a3c661dd0365678a89cac2a","created":"2017-12-22T01:55:41.416Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:55:41.421Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:55:41.436Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:55:41.456Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:41.457Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:55:41.457Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:55:41.460Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:55:41.472Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:55:41.474Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:55:41.474Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:55:41.474Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:55:41.478Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:56:10.284Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:56:10.427Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:56:10.507Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:10.514Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:56:10.514Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:56:10.515Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:56:10.534Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:10.535Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:56:10.536Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:56:10.539Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c663aff65e078f3837c20","timestamp":"2017-12-22T01:56:10.553Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T01:56:10.571Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:10.575Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T01:56:10.575Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:56:10.576Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:56:10.580Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:56:11.286Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:56:11.302Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:56:11.348Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:11.349Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:56:11.349Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:56:11.350Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:56:11.356Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:56:11.366Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:11.370Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$T61lrd7jNLb1At0RF0XRSOcVGdZYmxFvKaT2CnU5nM4Xj63T0utjy","tokenSeed":"800bc4a28b2882baccccf6fcb3ae3814f886a3360bd2fb19c2beeef361c0ae13e903abe247677b471cba3defaa6a9ae325eeb31102a0568eb11166aa57f7b907","_id":"5a3c663b10acb678f3f51af3","created":"2017-12-22T01:56:11.368Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:56:11.373Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:56:11.385Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:56:11.406Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:11.407Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:56:11.408Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:56:11.410Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:56:11.421Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:11.423Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:56:11.424Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:56:11.424Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:56:11.430Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:56:12.088Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:56:12.296Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:56:12.333Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:12.338Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:56:12.338Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:56:12.345Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:56:12.352Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:12.353Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:56:12.353Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:56:12.356Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c663cd4843878f36dfdb4","timestamp":"2017-12-22T01:56:12.375Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c663cd4843878f36dfdb6","timestamp":"2017-12-22T01:56:12.400Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:12.401Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:56:12.401Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:56:12.403Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:56:12.422Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:56:12.427Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:56:12.428Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:56:12.432Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:56:12.440Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:58:43.619Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:58:43.739Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:58:43.805Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:43.811Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:58:43.811Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T01:58:43.811Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T01:58:43.824Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:43.825Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:58:43.825Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:58:43.828Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c66d3ebdbaa799d3a75a0","timestamp":"2017-12-22T01:58:43.843Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T01:58:43.860Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:43.865Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T01:58:43.865Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:58:43.866Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c66d3ebdbaa799d3a75a4","timestamp":"2017-12-22T01:58:43.878Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:43.879Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:58:43.880Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:58:43.881Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:58:43.884Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:58:44.564Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:58:44.590Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:58:44.636Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:44.641Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T01:58:44.641Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T01:58:44.644Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T01:58:44.650Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:44.651Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T01:58:44.651Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T01:58:44.653Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c66d43146d7799da33f30","timestamp":"2017-12-22T01:58:44.670Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c66d43146d7799da33f32","timestamp":"2017-12-22T01:58:44.689Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:44.689Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:58:44.689Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:58:44.690Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T01:58:44.703Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:44.705Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T01:58:44.705Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T01:58:44.706Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:58:44.709Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T01:58:45.310Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:58:45.482Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:58:45.508Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:45.508Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:58:45.508Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T01:58:45.510Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:58:45.515Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T01:58:45.526Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:45.530Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$DUJyJH5XCclOUnwEZ1twyeSWr5IYhM4UjGGZd3ASSkgDqR5LnruOq","tokenSeed":"242a9a02e5b7017f963a9a54182efb5e2f611b08bdf51044cd96066d9a56be61b47b2db0e83b32f55b7edd58f7d02a0de03747a8cf981466845560ce1bd55817","_id":"5a3c66d5137890799dbebb36","created":"2017-12-22T01:58:45.528Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T01:58:45.532Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:58:45.546Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:58:45.565Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:45.565Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T01:58:45.565Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T01:58:45.569Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T01:58:45.580Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T01:58:45.582Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T01:58:45.582Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T01:58:45.583Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T01:58:45.586Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:16:18.389Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:18.532Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:18.629Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:18.631Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:18.631Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T02:16:18.635Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:18.643Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:18.655Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:18.661Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$RnAOwa3I0uDVYi1UkdXM9.zJFf561/Vizy9EkRq7E8Iq7wZ2VJFcC","tokenSeed":"44274f0b8f975d2d6b45a8be41e50feedac217da31864bc42d0e291b7e4dc3b8d3f5b8f77cb6bc5d15aec03e60443ba1cebcf88327cb3342e928e831da7990c1","_id":"5a3c6af209ab517c7d67d9fd","created":"2017-12-22T02:16:18.658Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T02:16:18.663Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:16:18.686Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:16:18.715Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:18.716Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:18.716Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T02:16:18.719Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:16:18.734Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:18.738Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T02:16:18.738Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T02:16:18.738Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:16:18.743Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:16:19.489Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:16:19.525Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:16:19.563Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:19.570Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T02:16:19.570Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T02:16:19.573Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:16:19.579Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:19.579Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:16:19.579Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:16:19.582Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c6af399d0c17c7db8f38d","timestamp":"2017-12-22T02:16:19.600Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c6af399d0c17c7db8f38f","timestamp":"2017-12-22T02:16:19.622Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:19.623Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:19.623Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T02:16:19.624Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T02:16:19.642Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:19.647Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T02:16:19.647Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T02:16:19.650Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:16:19.654Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:16:29.058Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:29.206Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:29.284Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:29.287Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:29.287Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T02:16:29.290Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:29.298Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:16:29.309Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:29.313Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$vF1GzaIFGRndcYGWn9KYOOW24ux5aHeTSMe.9kIniKE7/wU5Cs5K.","tokenSeed":"6eced1a05fa4e63c39f5fa96060e9697e2c4c3b00e120f7b85bb879a03910750c9639cec3eecf57b110753405af37c2de33fc13b92780603349943add771a830","_id":"5a3c6afd8a16207caa1b72fe","created":"2017-12-22T02:16:29.311Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T02:16:29.315Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:16:29.335Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:16:29.358Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:29.358Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:29.358Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T02:16:29.360Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:16:29.372Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:29.374Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T02:16:29.374Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T02:16:29.374Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:16:29.377Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:16:30.013Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:16:30.037Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:16:30.069Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:30.075Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T02:16:30.075Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T02:16:30.080Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:16:30.088Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:30.089Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:16:30.089Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:16:30.091Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c6afeceaee67caaf3eb33","timestamp":"2017-12-22T02:16:30.105Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c6afeceaee67caaf3eb35","timestamp":"2017-12-22T02:16:30.124Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:30.124Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:30.124Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T02:16:30.125Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T02:16:30.137Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:30.140Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T02:16:30.140Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T02:16:30.142Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:16:30.145Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:16:31.314Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T02:16:31.399Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T02:16:31.457Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:31.463Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:16:31.463Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T02:16:31.463Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T02:16:31.477Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:31.478Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:16:31.478Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:16:31.481Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c6affe4f6657caafdd860","timestamp":"2017-12-22T02:16:31.496Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T02:16:31.515Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:31.518Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T02:16:31.518Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T02:16:31.521Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c6affe4f6657caafdd864","timestamp":"2017-12-22T02:16:31.534Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:16:31.535Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:16:31.535Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:16:31.536Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c6affe4f6657caafdd866","timestamp":"2017-12-22T02:16:31.550Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:16:31.557Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:17:06.027Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:17:06.170Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:17:06.244Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:06.245Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:17:06.245Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T02:17:06.248Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:17:06.253Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T02:17:06.263Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:06.270Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$pjfjacYX6TUyQjx42ELDQeHM5lSzClA8dvYStyvIRNUUPHGzOpQey","tokenSeed":"7899c5c36798f0af003f84bd06780071c644b5bba5946af3c1e37c7eab0b219f6c5235e7c5b75749797069c8dee2704e48a6cfdd761a50e1f75117e8e140bf25","_id":"5a3c6b22e8d5a27ce8f26a02","created":"2017-12-22T02:17:06.266Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T02:17:06.274Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:17:06.299Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:17:06.321Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:06.321Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:17:06.321Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T02:17:06.323Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T02:17:06.334Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:06.336Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T02:17:06.336Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T02:17:06.336Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:17:06.339Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:17:07.413Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T02:17:07.444Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T02:17:07.495Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:07.502Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:17:07.502Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T02:17:07.502Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T02:17:07.514Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:07.516Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:17:07.516Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:17:07.518Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c6b2331c7347ce89889e6","timestamp":"2017-12-22T02:17:07.542Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T02:17:07.560Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:07.566Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T02:17:07.566Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T02:17:07.568Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c6b2331c7347ce89889ea","timestamp":"2017-12-22T02:17:07.580Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:07.580Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:17:07.580Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:17:07.582Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c6b2331c7347ce89889ec","timestamp":"2017-12-22T02:17:07.593Z"}
{"level":"info","message":"Returning a 404 from the catch-all route","timestamp":"2017-12-22T02:17:07.594Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:17:07.598Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T02:17:08.366Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:17:08.437Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:17:08.463Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:08.467Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T02:17:08.467Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T02:17:08.471Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T02:17:08.477Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:08.478Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T02:17:08.478Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T02:17:08.480Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c6b24f400927ce83c56f5","timestamp":"2017-12-22T02:17:08.494Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c6b24f400927ce83c56f7","timestamp":"2017-12-22T02:17:08.512Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:08.513Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T02:17:08.513Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T02:17:08.514Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T02:17:08.527Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T02:17:08.530Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T02:17:08.530Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T02:17:08.531Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T02:17:08.534Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:04:11.545Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:04:11.660Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:04:11.725Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:11.732Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:04:11.732Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:04:11.732Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:04:11.745Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:11.753Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:04:11.753Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:04:11.757Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c762bf85db8866150c0ec","timestamp":"2017-12-22T03:04:11.771Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:04:11.789Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:11.793Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:04:11.793Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:04:11.795Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c762bf85db8866150c0f0","timestamp":"2017-12-22T03:04:11.807Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:11.807Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:04:11.807Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:04:11.808Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c762bf85db8866150c0f2","timestamp":"2017-12-22T03:04:11.821Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:04:22.478Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:04:22.492Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:04:22.535Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:22.536Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:04:22.536Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:04:22.537Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:04:22.543Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:04:22.553Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:22.558Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$z94Ue5SvCsamXS7OmTnPpOhGd7FTslptq8I6Tk8Kl8kE9HQPsDLu.","tokenSeed":"ab87bc35243b9056b95a2f7adb655b0cdbd22c688f2241812f1ac9d90b62659843ea7e98df19fa5d72cb1873eb7dc0d65757666c3f280899801cb84c8a2b46df","_id":"5a3c7636db4f0f8661f1f454","created":"2017-12-22T03:04:22.555Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:04:22.560Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:04:22.574Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:04:22.594Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:22.594Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:04:22.594Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:04:22.596Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:04:22.608Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:22.610Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:04:22.610Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:04:22.610Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:04:22.614Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:04:23.289Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:04:23.450Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:04:23.474Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:23.479Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:04:23.479Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:04:23.486Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:04:23.492Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:23.492Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:04:23.492Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:04:23.495Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7637ad83f986615a17b8","timestamp":"2017-12-22T03:04:23.509Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7637ad83f986615a17ba","timestamp":"2017-12-22T03:04:23.527Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:23.527Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:04:23.527Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:04:23.528Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:04:23.541Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:04:23.544Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:04:23.544Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:04:23.548Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:04:23.551Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:05:10.959Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:05:11.082Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:05:11.142Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:11.147Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:05:11.147Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:05:11.148Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:05:11.161Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:11.162Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:05:11.162Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:05:11.164Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7667090fdb869b67c4a7","timestamp":"2017-12-22T03:05:11.178Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:05:11.196Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:11.201Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:05:11.201Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:05:11.203Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7667090fdb869b67c4ab","timestamp":"2017-12-22T03:05:11.215Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:11.215Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:05:11.215Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:05:11.217Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c7667090fdb869b67c4ad","timestamp":"2017-12-22T03:05:11.229Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:05:21.919Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:05:21.941Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:05:21.983Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:21.987Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:05:21.987Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:05:21.991Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:05:21.996Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:21.996Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:05:21.997Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:05:21.998Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7672820ba0869b75a3d5","timestamp":"2017-12-22T03:05:22.012Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7672820ba0869b75a3d7","timestamp":"2017-12-22T03:05:22.030Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:22.031Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:05:22.031Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:05:22.032Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:05:22.045Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:22.047Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:05:22.047Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:05:22.048Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:05:22.052Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:05:22.720Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:05:22.777Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:05:22.797Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:22.798Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:05:22.798Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:05:22.800Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:05:22.805Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:05:22.814Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:22.818Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$K9b.C.pw9H4qTRlKbgQFDubGX5r2d9oua22dpMHvmbbOua/njuN5K","tokenSeed":"813f4ecc88a42afb02be28e120c5d7dc95ebeee504d1dafbd4c983ad8aac1bd9818c0b26fbe227f802337d3f8f9f39337fb00e268a9f6fef530152cc07973c75","_id":"5a3c767254a7ce869b3a019b","created":"2017-12-22T03:05:22.816Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:05:22.820Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:05:22.833Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:05:22.851Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:22.852Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:05:22.852Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:05:22.853Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:05:22.864Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:05:22.866Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:05:22.866Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:05:22.866Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:05:22.869Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:07:11.233Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:09:21.735Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:09:21.860Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:09:21.919Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:21.925Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:09:21.925Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:09:21.926Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:09:21.940Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:21.941Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:09:21.941Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:09:21.943Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7761aa0106020a4031ba","timestamp":"2017-12-22T03:09:21.957Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:09:21.977Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:21.981Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:09:21.982Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:09:21.983Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7761aa0106020a4031be","timestamp":"2017-12-22T03:09:21.999Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:21.999Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:09:21.999Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:09:22.001Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c7762aa0106020a4031c0","timestamp":"2017-12-22T03:09:22.013Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:09:32.651Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:09:32.667Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:09:32.714Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:32.715Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:09:32.715Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:09:32.716Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:09:32.722Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:09:32.733Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:32.738Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$SRz5f2xZLbkjjrUnoSLzf.h3inPe.D2PNsuNTodPFXCS6mG9CCVcm","tokenSeed":"bb8c2543b0f333a8012eedecde77c39b4150bc4b32684370a90f0d170312b14f5dbf4d4156441d1316b43370a1ca8013e4edfb97a55feceedb279fcef65d5b78","_id":"5a3c776c5bab82020a04c09d","created":"2017-12-22T03:09:32.735Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:09:32.740Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:09:32.763Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:09:32.780Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:32.781Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:09:32.781Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:09:32.782Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:09:32.793Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:32.795Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:09:32.795Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:09:32.795Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:09:32.798Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:09:33.497Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:09:33.564Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:09:33.589Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:33.594Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:09:33.594Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:09:33.598Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:09:33.604Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:33.604Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:09:33.604Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:09:33.606Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c776d19eef8020aae37fc","timestamp":"2017-12-22T03:09:33.620Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c776d19eef8020aae37fe","timestamp":"2017-12-22T03:09:33.638Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:33.639Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:09:33.639Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:09:33.640Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:09:33.652Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:09:33.655Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:09:33.655Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:09:33.656Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:09:33.659Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:10:19.195Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:10:19.316Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:10:19.379Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:19.385Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:10:19.385Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:10:19.385Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:10:19.398Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:19.399Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:10:19.400Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:10:19.402Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c779b6239ff0245223262","timestamp":"2017-12-22T03:10:19.416Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:10:19.434Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:19.438Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:10:19.438Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:10:19.439Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c779b6239ff0245223266","timestamp":"2017-12-22T03:10:19.451Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:19.451Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:10:19.452Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:10:19.453Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c779b6239ff0245223268","timestamp":"2017-12-22T03:10:19.465Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:10:30.123Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:10:30.145Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:10:30.198Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:30.203Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:10:30.203Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:10:30.206Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:10:30.212Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:30.213Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:10:30.213Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:10:30.215Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c77a6ba41d302454dac38","timestamp":"2017-12-22T03:10:30.229Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c77a6ba41d302454dac3a","timestamp":"2017-12-22T03:10:30.249Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:30.250Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:10:30.250Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:10:30.252Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:10:30.274Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:30.276Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:10:30.277Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:10:30.278Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:10:30.281Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:10:30.933Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:10:30.997Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:10:31.017Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:31.018Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:10:31.018Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:10:31.020Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:10:31.025Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:10:31.034Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:31.038Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$H1/Vhq.TunLgcKxBoHe.CuGUTtGMNFACVImXMflqOiYEYYGU1odGC","tokenSeed":"29b30c56007e6365e547fd603c505f37f91f148cb79f0fa176ead5d83ef1e343771a4f173cc39c1ea835f994b1e552f93087aa8dc1459bf64d60e50601e8b7ff","_id":"5a3c77a7701805024576e718","created":"2017-12-22T03:10:31.036Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:10:31.041Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:10:31.053Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:10:31.070Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:31.071Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:10:31.071Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:10:31.073Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:10:31.084Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:10:31.086Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:10:31.087Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:10:31.087Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:10:31.090Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:12:19.654Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:22:48.505Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:22:48.631Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:22:48.694Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:48.700Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:22:48.700Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:22:48.700Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:22:48.723Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:48.724Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:22:48.724Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:22:48.727Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7a88b2d0fb0497dac2dc","timestamp":"2017-12-22T03:22:48.740Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:22:48.759Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:48.763Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:22:48.763Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:22:48.765Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7a88b2d0fb0497dac2e0","timestamp":"2017-12-22T03:22:48.777Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:48.778Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:22:48.778Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:22:48.779Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c7a88b2d0fb0497dac2e2","timestamp":"2017-12-22T03:22:48.791Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:22:59.426Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:22:59.439Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:22:59.486Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:59.487Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:22:59.487Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:22:59.488Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:22:59.493Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:22:59.501Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:59.506Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$p6A4ETJsixSevFvnm12lS.8Qh2h5k7uzWj1DKRSl96KpHP46Jt76a","tokenSeed":"059bcfa2b89f46fe955d382919b7da1b25e28ddfda636a905e4710ec9b1feee7580b700a9766fe75fffb893d57b409658f93e427b44d5880d1926d4c1e6a0be5","_id":"5a3c7a93e1189d0497152ff4","created":"2017-12-22T03:22:59.503Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:22:59.508Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:22:59.521Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:22:59.538Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:59.538Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:22:59.538Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:22:59.540Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:22:59.551Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:22:59.553Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:22:59.553Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:22:59.554Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:22:59.557Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:23:00.258Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:23:00.358Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:23:00.388Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:00.393Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:23:00.393Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:23:00.398Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:23:00.405Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:00.406Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:23:00.406Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:23:00.408Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7a944176a60497519fc2","timestamp":"2017-12-22T03:23:00.424Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7a944176a60497519fc4","timestamp":"2017-12-22T03:23:00.444Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:00.444Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:23:00.444Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:23:00.446Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:23:00.459Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:00.462Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:23:00.462Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:23:00.463Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:23:00.467Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:23:45.854Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:23:45.976Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:23:46.035Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:46.042Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:23:46.042Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:23:46.043Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:23:46.057Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:46.058Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:23:46.058Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:23:46.061Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7ac22ffa8004d9f2e723","timestamp":"2017-12-22T03:23:46.075Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:23:46.092Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:46.096Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:23:46.097Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:23:46.106Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7ac22ffa8004d9f2e727","timestamp":"2017-12-22T03:23:46.121Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:46.122Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:23:46.122Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:23:46.124Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c7ac22ffa8004d9f2e729","timestamp":"2017-12-22T03:23:46.135Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:23:56.816Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:23:56.843Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:23:56.891Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:56.895Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:23:56.895Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:23:56.898Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:23:56.904Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:56.904Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:23:56.904Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:23:56.906Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7acc3cf14a04d9569012","timestamp":"2017-12-22T03:23:56.921Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7acc3cf14a04d9569014","timestamp":"2017-12-22T03:23:56.939Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:56.939Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:23:56.939Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:23:56.940Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:23:56.953Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:56.955Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:23:56.955Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:23:56.956Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:23:56.960Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:23:57.533Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:23:57.676Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:23:57.696Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:57.697Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:23:57.697Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:23:57.699Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:23:57.704Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:23:57.714Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:57.718Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$81w9pI5488P1xSgd2gN5Guy95Ju4TCJhAyf9BqPmh7wHduWrnCZ3G","tokenSeed":"3f7de8c4b157e91a9ee1c3dd76c7fe4f3166be4b222c79e7932abd9c1fc61f35e2d95b7277943967c2581d525d82ecd36d77e7ed31c49c1532c556fad4126aaf","_id":"5a3c7acdad1bb004d9ecb241","created":"2017-12-22T03:23:57.716Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:23:57.720Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:23:57.732Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:23:57.749Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:57.750Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:23:57.750Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:23:57.752Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:23:57.762Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:23:57.764Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:23:57.764Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:23:57.764Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:23:57.766Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:25:00.245Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:25:00.357Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:25:00.416Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:00.423Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:25:00.423Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:25:00.423Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:25:00.436Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:00.438Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:25:00.438Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:25:00.440Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7b0ce2b404052c5fa4c8","timestamp":"2017-12-22T03:25:00.453Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:25:00.471Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:00.475Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:25:00.475Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:25:00.476Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7b0ce2b404052c5fa4cc","timestamp":"2017-12-22T03:25:00.488Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:00.489Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:25:00.489Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:25:00.490Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:25:00.494Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:25:01.154Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:25:01.168Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:25:01.206Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:01.207Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:25:01.207Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:25:01.209Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:25:01.215Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:25:01.224Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:01.229Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$jA6ZeOgrNUnB8lNGOgdrwu3ROdiPclseXLj76s30n3D88N/h8Avu.","tokenSeed":"f10203c6d1e581d0df3924aa63ccd2898c7e8ea58bf3d2d4dcd2f32abcf892f7ab0c2204fdf53e357fded77b335738af6b4932c624f1001c12b9d0419669996b","_id":"5a3c7b0d90d394052c55633e","created":"2017-12-22T03:25:01.226Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:25:01.231Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:25:01.246Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:25:01.267Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:01.267Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:25:01.268Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:25:01.270Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:25:01.282Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:01.284Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:25:01.284Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:25:01.284Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:25:01.287Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:25:01.913Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:25:02.099Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:25:02.127Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:02.132Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:25:02.132Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:25:02.136Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:25:02.143Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:02.144Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:25:02.144Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:25:02.146Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7b0e3d5eb8052c111c9e","timestamp":"2017-12-22T03:25:02.162Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7b0e3d5eb8052c111ca0","timestamp":"2017-12-22T03:25:02.183Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:02.184Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:25:02.184Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:25:02.185Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:25:02.201Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:25:02.203Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:25:02.203Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:25:02.204Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:25:02.207Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:27:25.016Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:27:25.141Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:27:25.206Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:25.218Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:25.219Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:27:25.220Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:27:25.236Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:25.237Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:27:25.237Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:27:25.240Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7b9d84a0fd05dc83085b","timestamp":"2017-12-22T03:27:25.254Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:27:25.272Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:25.276Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:27:25.276Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:27:25.278Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7b9d84a0fd05dc83085f","timestamp":"2017-12-22T03:27:25.290Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:25.290Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:27:25.290Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:27:25.291Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:27:25.295Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:27:26.005Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:27:26.038Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:27:26.093Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:26.099Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:27:26.099Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:27:26.102Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:27:26.109Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:26.110Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:27:26.110Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:27:26.112Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7b9eba84e205dcd47d75","timestamp":"2017-12-22T03:27:26.128Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7b9eba84e205dcd47d77","timestamp":"2017-12-22T03:27:26.150Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:26.151Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:26.151Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:27:26.152Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:27:26.167Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:26.171Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:27:26.171Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:27:26.184Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:27:26.188Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:27:26.865Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:27.041Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:27.065Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:27.066Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:27.067Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:27:27.071Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:27.077Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:27.090Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:27.095Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$6ktxj/Urn7a39dhfvT10POcxquWTq8GH/PTW7HzUlLZN6VLyvF3Y2","tokenSeed":"50a76041b15fc061242786c009185c4f1dba0541f1cb976baa40d7d263a28f3932954148cf253fe7bb5517ee813d52c39cfa793b46fd0a36e9a8bf56125f3285","_id":"5a3c7b9f3fae9105dc9172e5","created":"2017-12-22T03:27:27.092Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:27:27.097Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:27:27.113Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:27:27.137Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:27.138Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:27.138Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:27:27.140Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:27:27.156Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:27.158Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:27:27.158Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:27:27.159Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:27:27.162Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:27:45.071Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:27:45.258Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:27:45.317Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:45.323Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.songRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:21:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:45.324Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ invalid request","timestamp":"2017-12-22T03:27:45.324Z"}
{"level":"info","message":"Processing : POST on : /songs","timestamp":"2017-12-22T03:27:45.337Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:45.338Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:27:45.338Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:27:45.341Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7bb1ffef88060c7664a3","timestamp":"2017-12-22T03:27:45.355Z"}
{"level":"info","message":"Processing : GET on : /songs/fakesongid","timestamp":"2017-12-22T03:27:45.374Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:45.378Z"}
{"message":"Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"","stack":"CastError: Cast to ObjectId failed for value \"fakesongid\" at path \"_id\" for model \"song\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"fakesongid\"","kind":"ObjectId","value":"fakesongid","path":"_id","level":"info","timestamp":"2017-12-22T03:27:45.378Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:27:45.379Z"}
{"level":"info","message":"Processing : GET on : /songs/5a3c7bb1ffef88060c7664a7","timestamp":"2017-12-22T03:27:45.391Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:45.391Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:27:45.391Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:27:45.393Z"}
{"level":"info","message":"Processing : DELETE on : /songs/5a3c7bb1ffef88060c7664a9","timestamp":"2017-12-22T03:27:45.404Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:45.411Z"}
{"message":"Promise resolver undefined is not a function","stack":"TypeError: Promise resolver undefined is not a function\n    at new Promise (<anonymous>)\n    at Object.<anonymous>.s3.remove.key [as remove] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/s3.js:34:59)\n    at Song.findById.then.song (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:58:64)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","level":"info","timestamp":"2017-12-22T03:27:45.412Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-22T03:27:45.412Z"}
{"message":"Promise resolver undefined is not a function","stack":"TypeError: Promise resolver undefined is not a function\n    at new Promise (<anonymous>)\n    at Object.<anonymous>.s3.remove.key [as remove] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/s3.js:34:59)\n    at Song.findById.then.song (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/song-router.js:58:64)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","level":"info","timestamp":"2017-12-22T03:27:45.412Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:27:45.416Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:27:46.042Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:46.059Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:46.097Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:46.098Z"}
{"message":"__ERROR__ username, email and passowrd are required to create an account","stack":"BadRequestError: __ERROR__ username, email and passowrd are required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/account-router.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:46.098Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ username, email and passowrd are required to create an account","timestamp":"2017-12-22T03:27:46.099Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:46.104Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-22T03:27:46.114Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:46.119Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"kitty@cats.com\" }","op":{"username":"kitty","email":"kitty@cats.com","passwordHash":"$2a$04$Oc4MIlGgZ30qsdXil.kPu.3bDmqsLyyNLEUZZr7xNLF1BH/DWrq6u","tokenSeed":"dd48c8a3c9fd8bda7687a801e3ef50dd8c5b527033106b17703ae1ccf36fd7a8c235716dc2b728846f7c4bfc124e41ea876743683f1729de9f52e4f741a90940","_id":"5a3c7bb2fea3c2060cac9c25","created":"2017-12-22T03:27:46.117Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T03:27:46.121Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:27:46.135Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:27:46.155Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:46.155Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:46.155Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:27:46.159Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-22T03:27:46.169Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:46.171Z"}
{"message":"__ERROR__ username or password is incorrect","stack":"NotFoundError: __ERROR__ username or password is incorrect\n    at Account.findOne.then.account (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/basic-auth-middleware.js:27:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-22T03:27:46.171Z"}
{"level":"info","message":"Responding with a 404 status and message: __ERROR__ username or password is incorrect","timestamp":"2017-12-22T03:27:46.172Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:27:46.176Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T03:27:46.795Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:27:46.969Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:27:46.999Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:47.004Z"}
{"message":"cat validation failed: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","errors":{"says":{"message":"Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"String","value":{"says":"Meow"},"path":"says","reason":{"message":"Cast to string failed for value \"{ says: 'Meow' }\" at path \"says\"","name":"CastError","stringValue":"\"{ says: 'Meow' }\"","kind":"string","value":{"says":"Meow"},"path":"says"}}},"_message":"cat validation failed","stack":"ValidationError: says: Cast to String failed for value \"{ says: 'Meow' }\" at path \"says\"\n    at new ValidationError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.catRouter.post (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/route/cat-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:224:16)\n    at done (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T03:27:47.004Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T03:27:47.008Z"}
{"level":"info","message":"Processing : POST on : /cats","timestamp":"2017-12-22T03:27:47.016Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:47.016Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:29:40)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"info","timestamp":"2017-12-22T03:27:47.016Z"}
{"level":"info","message":"Responding with a 401 status code","timestamp":"2017-12-22T03:27:47.018Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7bb3bf0bed060c0ad120","timestamp":"2017-12-22T03:27:47.034Z"}
{"level":"info","message":"Processing : GET on : /cats/5a3c7bb3bf0bed060c0ad122","timestamp":"2017-12-22T03:27:47.054Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:47.054Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/bearer-auth-middleware.js:20:17)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/lib/logger-middleware.js:10:10)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:317:13)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T03:27:47.054Z"}
{"level":"info","message":"Responding with a 400 status and message: __ERROR__ authorization header required","timestamp":"2017-12-22T03:27:47.055Z"}
{"level":"info","message":"Processing : GET on : /cats/badId","timestamp":"2017-12-22T03:27:47.070Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T03:27:47.072Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"cat\"\n    at new CastError (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:250:8\n    at /Users/Andrew/cf/401/labs/16-19-auth/lab-andrew/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-22T03:27:47.072Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T03:27:47.073Z"}
{"level":"info","message":"Server is off","timestamp":"2017-12-22T03:27:47.078Z"}
